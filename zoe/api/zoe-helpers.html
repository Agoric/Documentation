<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ZoeHelpers | Alpha</title>
    <meta name="generator" content="VuePress 1.6.0">
    <link rel="icon" href="/documentation/favicon-full.ico">
    <style type="text/css">
    .two-col-table td {
        width: 50%;
    }
    .two-col-table table {
        table-layout: fixed;
    }</style>
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-118217811-1"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-118217811-1'); </script>
    <script>
    const logoUrlChanger = setInterval(function() {
    //Anchor above the logo image
    const homeEls = document.getElementsByClassName("home-link");
    if(homeEls.length > 0) {
      const homeEl = homeEls[0];
      homeEl.setAttribute("href", "https://agoric.com");
      homeEl.setAttribute("onclick", "return false;");
      clearInterval(logoUrlChanger);
    }

    //Actual logo image
    const logoEls = document.getElementsByClassName("logo")
    if(logoEls.length > 0) {
      const logoEl = logoEls[0]
      logoEl.setAttribute("onclick", "document.location='https://agoric.com';return false;");
      clearInterval(logoUrlChanger);
    }
   }, 1000) </script>
    <meta name="description" content="Build, deploy and operate dApps and DeFi markets.">
    <link rel="preload" href="/documentation/assets/css/0.styles.67a7e261.css" as="style"><link rel="preload" href="/documentation/assets/js/app.75f664bd.js" as="script"><link rel="preload" href="/documentation/assets/js/2.5bb364b1.js" as="script"><link rel="preload" href="/documentation/assets/js/44.fa7db521.js" as="script"><link rel="prefetch" href="/documentation/assets/js/10.0707d840.js"><link rel="prefetch" href="/documentation/assets/js/11.261cd0af.js"><link rel="prefetch" href="/documentation/assets/js/12.5459279b.js"><link rel="prefetch" href="/documentation/assets/js/13.84717021.js"><link rel="prefetch" href="/documentation/assets/js/14.1c504910.js"><link rel="prefetch" href="/documentation/assets/js/15.3d45b143.js"><link rel="prefetch" href="/documentation/assets/js/16.3ff01308.js"><link rel="prefetch" href="/documentation/assets/js/17.a9cf76d8.js"><link rel="prefetch" href="/documentation/assets/js/18.272b2746.js"><link rel="prefetch" href="/documentation/assets/js/19.838da3fa.js"><link rel="prefetch" href="/documentation/assets/js/20.a9d278e8.js"><link rel="prefetch" href="/documentation/assets/js/21.5067a485.js"><link rel="prefetch" href="/documentation/assets/js/22.f1be5eee.js"><link rel="prefetch" href="/documentation/assets/js/23.db8fbf53.js"><link rel="prefetch" href="/documentation/assets/js/24.c74e64a1.js"><link rel="prefetch" href="/documentation/assets/js/25.cedf215b.js"><link rel="prefetch" href="/documentation/assets/js/26.8e3fa8b7.js"><link rel="prefetch" href="/documentation/assets/js/27.17d17fef.js"><link rel="prefetch" href="/documentation/assets/js/28.8b20405b.js"><link rel="prefetch" href="/documentation/assets/js/29.ef21f6c9.js"><link rel="prefetch" href="/documentation/assets/js/3.4fb0d10e.js"><link rel="prefetch" href="/documentation/assets/js/30.21e223a5.js"><link rel="prefetch" href="/documentation/assets/js/31.46382691.js"><link rel="prefetch" href="/documentation/assets/js/32.f41b265e.js"><link rel="prefetch" href="/documentation/assets/js/33.6dfa0164.js"><link rel="prefetch" href="/documentation/assets/js/34.1fb9093f.js"><link rel="prefetch" href="/documentation/assets/js/35.5cca9f8c.js"><link rel="prefetch" href="/documentation/assets/js/36.255a330b.js"><link rel="prefetch" href="/documentation/assets/js/37.d07c4bea.js"><link rel="prefetch" href="/documentation/assets/js/38.d68e6d73.js"><link rel="prefetch" href="/documentation/assets/js/39.f8b81df6.js"><link rel="prefetch" href="/documentation/assets/js/4.9577a112.js"><link rel="prefetch" href="/documentation/assets/js/40.d0ee3a71.js"><link rel="prefetch" href="/documentation/assets/js/41.ce7ee5a3.js"><link rel="prefetch" href="/documentation/assets/js/42.888b136c.js"><link rel="prefetch" href="/documentation/assets/js/43.b9d28e14.js"><link rel="prefetch" href="/documentation/assets/js/45.e2459810.js"><link rel="prefetch" href="/documentation/assets/js/46.84ea7456.js"><link rel="prefetch" href="/documentation/assets/js/47.caf112bf.js"><link rel="prefetch" href="/documentation/assets/js/48.4e1cc292.js"><link rel="prefetch" href="/documentation/assets/js/49.b49bf5f7.js"><link rel="prefetch" href="/documentation/assets/js/5.5c23599f.js"><link rel="prefetch" href="/documentation/assets/js/50.5ccfcec6.js"><link rel="prefetch" href="/documentation/assets/js/51.2f313500.js"><link rel="prefetch" href="/documentation/assets/js/52.16f10a15.js"><link rel="prefetch" href="/documentation/assets/js/53.5d54fae3.js"><link rel="prefetch" href="/documentation/assets/js/54.67f1989b.js"><link rel="prefetch" href="/documentation/assets/js/55.30748d3d.js"><link rel="prefetch" href="/documentation/assets/js/56.120020ad.js"><link rel="prefetch" href="/documentation/assets/js/57.3e4c1c78.js"><link rel="prefetch" href="/documentation/assets/js/58.87796035.js"><link rel="prefetch" href="/documentation/assets/js/59.1585cbd0.js"><link rel="prefetch" href="/documentation/assets/js/6.c314c482.js"><link rel="prefetch" href="/documentation/assets/js/60.51b51c12.js"><link rel="prefetch" href="/documentation/assets/js/61.9d7d8a0d.js"><link rel="prefetch" href="/documentation/assets/js/62.9220d6bb.js"><link rel="prefetch" href="/documentation/assets/js/63.ae2393f1.js"><link rel="prefetch" href="/documentation/assets/js/64.3a4bb564.js"><link rel="prefetch" href="/documentation/assets/js/65.5d5d4c71.js"><link rel="prefetch" href="/documentation/assets/js/66.19c3589f.js"><link rel="prefetch" href="/documentation/assets/js/67.c8ec5c53.js"><link rel="prefetch" href="/documentation/assets/js/68.f83f3da8.js"><link rel="prefetch" href="/documentation/assets/js/69.6e808c2b.js"><link rel="prefetch" href="/documentation/assets/js/7.03634295.js"><link rel="prefetch" href="/documentation/assets/js/8.c02941a0.js"><link rel="prefetch" href="/documentation/assets/js/9.1ad33d26.js">
    <link rel="stylesheet" href="/documentation/assets/css/0.styles.67a7e261.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/documentation/" class="home-link router-link-active"><img src="/documentation/logo.svg" alt="Alpha" class="logo"> <span class="site-name can-hide">Alpha</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/documentation/getting-started/intro-hackathon.html" class="nav-link">
  Hackathon
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Getting Started Menu" class="dropdown-title"><span class="title">Getting Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Getting Started Menu" class="mobile-dropdown-title"><span class="title">Getting Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link">
  Documentation Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/before-using-agoric.html" class="nav-link">
  Before Using Agoric
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/start-a-project.html" class="nav-link">
  Starting a Project
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/development-cycle.html" class="nav-link">
  Development Cycle
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/deploying.html" class="nav-link">
  Deploying Smart Contracts
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction.html" class="nav-link">
  ERTP Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" class="nav-link">
  Zoe Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide.html" class="nav-link">
  Agoric CLI Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/alpha.html" class="nav-link">
  Agoric Alpha
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link">
  Documentation
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide.html" class="nav-link">
  Agoric CLI
</a></li><li class="dropdown-item"><!----> <a href="/documentation/dapps/" class="nav-link">
  Agoric Dapps
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">
  ERTP
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">
  Zoe
</a></li><li class="dropdown-item"><!----> <a href="/documentation/wallet-api.html" class="nav-link">
  Wallet API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/blob/master/packages/SwingSet/docs/networking.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dynamic IBC (dIBC)
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/documentation/distributed-programming.html" class="nav-link">
  JS Distributed Programming
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Zoe Menu" class="dropdown-title"><span class="title">Zoe</span> <span class="arrow down"></span></button> <button type="button" aria-label="Zoe Menu" class="mobile-dropdown-title"><span class="title">Zoe</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" class="nav-link">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/contracts/" class="nav-link">
  Contracts
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/api/" class="nav-link router-link-active">
  API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/zoe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ERTP Menu" class="dropdown-title"><span class="title">ERTP</span> <span class="arrow down"></span></button> <button type="button" aria-label="ERTP Menu" class="mobile-dropdown-title"><span class="title">ERTP</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction/" class="nav-link">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/ERTP" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Platform Menu" class="dropdown-title"><span class="title">Platform</span> <span class="arrow down"></span></button> <button type="button" aria-label="Platform Menu" class="mobile-dropdown-title"><span class="title">Platform</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/platform/" class="nav-link">
  Agoric Stack
</a></li></ul></div></div><div class="nav-item"><a href="/documentation/glossary/" class="nav-link">
  Glossary
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn More Menu" class="dropdown-title"><span class="title">Learn More</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn More Menu" class="mobile-dropdown-title"><span class="title">Learn More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://agoric.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Agoric
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://agoric.com/papers/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Papers
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/documentation/getting-started/intro-hackathon.html" class="nav-link">
  Hackathon
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Getting Started Menu" class="dropdown-title"><span class="title">Getting Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Getting Started Menu" class="mobile-dropdown-title"><span class="title">Getting Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link">
  Documentation Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/before-using-agoric.html" class="nav-link">
  Before Using Agoric
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/start-a-project.html" class="nav-link">
  Starting a Project
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/development-cycle.html" class="nav-link">
  Development Cycle
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/deploying.html" class="nav-link">
  Deploying Smart Contracts
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction.html" class="nav-link">
  ERTP Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" class="nav-link">
  Zoe Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide.html" class="nav-link">
  Agoric CLI Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/alpha.html" class="nav-link">
  Agoric Alpha
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link">
  Documentation
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide.html" class="nav-link">
  Agoric CLI
</a></li><li class="dropdown-item"><!----> <a href="/documentation/dapps/" class="nav-link">
  Agoric Dapps
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">
  ERTP
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">
  Zoe
</a></li><li class="dropdown-item"><!----> <a href="/documentation/wallet-api.html" class="nav-link">
  Wallet API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/blob/master/packages/SwingSet/docs/networking.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dynamic IBC (dIBC)
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/documentation/distributed-programming.html" class="nav-link">
  JS Distributed Programming
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Zoe Menu" class="dropdown-title"><span class="title">Zoe</span> <span class="arrow down"></span></button> <button type="button" aria-label="Zoe Menu" class="mobile-dropdown-title"><span class="title">Zoe</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" class="nav-link">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/contracts/" class="nav-link">
  Contracts
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/api/" class="nav-link router-link-active">
  API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/zoe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ERTP Menu" class="dropdown-title"><span class="title">ERTP</span> <span class="arrow down"></span></button> <button type="button" aria-label="ERTP Menu" class="mobile-dropdown-title"><span class="title">ERTP</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction/" class="nav-link">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/ERTP" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Platform Menu" class="dropdown-title"><span class="title">Platform</span> <span class="arrow down"></span></button> <button type="button" aria-label="Platform Menu" class="mobile-dropdown-title"><span class="title">Platform</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/platform/" class="nav-link">
  Agoric Stack
</a></li></ul></div></div><div class="nav-item"><a href="/documentation/glossary/" class="nav-link">
  Glossary
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn More Menu" class="dropdown-title"><span class="title">Learn More</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn More Menu" class="mobile-dropdown-title"><span class="title">Learn More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://agoric.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Agoric
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://agoric.com/papers/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Papers
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/documentation/getting-started/intro-zoe.html" class="sidebar-link">Zoe Introduction</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/documentation/zoe/guide/" class="sidebar-heading clickable"><span>Zoe Guide</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/documentation/zoe/guide/contracts/" class="sidebar-heading clickable"><span>Zoe Contracts</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/documentation/zoe/api/" class="sidebar-heading clickable router-link-active open"><span>Zoe API</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/documentation/zoe/api/zoe.html" class="sidebar-link">Zoe</a></li><li><a href="/documentation/zoe/api/zoe-contract-facet.html" class="sidebar-link">Zoe Contract Facet</a></li><li><a href="/documentation/zoe/api/zoe-helpers.html" aria-current="page" class="active sidebar-link">ZoeHelpers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe-helpers.html#assertissuerkeywords-zcf-keywords" class="sidebar-link">assertIssuerKeywords(zcf, keywords)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe-helpers.html#assertusesnatmath-zcf-brand" class="sidebar-link">assertUsesNatMath(zcf, brand)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe-helpers.html#satisfies-zcf-seat-update" class="sidebar-link">satisfies(zcf, seat, update)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe-helpers.html#trade-zcf-left-right-lefthasexitedmsg-righthasexitedmsg" class="sidebar-link">trade(zcf, left, right, leftHasExitedMsg, rightHasExitedMsg)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe-helpers.html#swap-zcf-leftseat-rightseat-lefthasexitedmsg-righthasexitedmsg" class="sidebar-link">swap(zcf, leftSeat, rightSeat, leftHasExitedMsg, rightHasExitedMsg)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe-helpers.html#swapexact-zcf-leftseat-rightseat-lefthasexitedmsg-righthasexitedmsg" class="sidebar-link">swapExact(zcf, leftSeat, rightSeat, leftHasExitedMsg, rightHasExitedMsg)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe-helpers.html#assertproposalshape-seat-expected" class="sidebar-link">assertProposalShape(seat, expected)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe-helpers.html#deposittoseat-zcf-recipientseat-amounts-payments" class="sidebar-link">depositToSeat(zcf, recipientSeat, amounts, payments)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe-helpers.html#withdrawfromseat-zcf-seat-amounts" class="sidebar-link">withdrawFromSeat(zcf, seat, amounts)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe-helpers.html#saveallissuers-zcf-issuerkeywordrecord" class="sidebar-link">saveAllIssuers(zcf, issuerKeywordRecord)</a></li></ul></li></ul></section></li><li><a href="/documentation/zoe/roadmap/" class="sidebar-link">Zoe Roadmap</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="zoehelpers"><a href="#zoehelpers" class="header-anchor">#</a> ZoeHelpers</h1> <p>ZoeHelpers are functions that extract common contract code and
patterns into reusable helpers.</p> <p>All of the ZoeHelper methods are described below. To use any of them, import
it directly from <code>@agoric/zoe/src/contractSupport/</code>. For example, the following
imports the two ZoeHelpers <code>assertIssuerKeywords()</code> and <code>assertProposalShape()</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  assertIssuerKeywords<span class="token punctuation">,</span>
  assertProposalShape<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@agoric/zoe/src/contractSupport'</span><span class="token punctuation">;</span>
</code></pre></div><p>Note that almost all ZoeHelpers require <code>zcf</code>, a <code>ContractFacet</code> as a first argument.
ZoeHelpers are contract helpers, in that they are useful to contract code. Contracts are started up by Zoe,
and <code>zcf</code> is passed in as a parameter to <code>start()</code>.</p> <h2 id="assertissuerkeywords-zcf-keywords"><a href="#assertissuerkeywords-zcf-keywords" class="header-anchor">#</a> assertIssuerKeywords(zcf, keywords)</h2> <ul><li><code>zcf</code> <code>{ContractFacet}</code></li> <li><code>keywords</code> <code>{Array &lt;String&gt;}</code></li></ul> <p>This method always takes <code>zcf</code> as its first argument.</p> <p>Checks that keywords submitted by the contract instance creator
match what the contract expects. Throws if incorrect or if there are
missing or extra keywords. The keywords order is irrelevant.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  assertIssuerKeywords<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@agoric/zoe/src/contractSupport'</span><span class="token punctuation">;</span>

<span class="token comment">// proposals for this contract instance use keywords 'Asset' and 'Price'</span>
<span class="token function">assertIssuerKeywords</span><span class="token punctuation">(</span>zcf<span class="token punctuation">,</span> <span class="token function">harden</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Asset'</span><span class="token punctuation">,</span> <span class="token string">'Price'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="assertusesnatmath-zcf-brand"><a href="#assertusesnatmath-zcf-brand" class="header-anchor">#</a> assertUsesNatMath(zcf, brand)</h2> <ul><li><code>zcf</code>- <code>{ContractFacet}</code></li> <li><code>brand</code> - <code>{Brand}</code></li></ul> <p>This method always takes <code>zcf</code> as its first argument.</p> <p>Assert that the <code>brand</code> corresponds to an <code>issuer</code> that uses <code>MathKind.NAT</code>.
This means the <code>issuer</code> creates fungible assets.</p> <p>If <code>false</code> throws with message <code>issuer must use NAT amountMath</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  assertUsesNatMath<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@agoric/zoe/src/contractSupport'</span><span class="token punctuation">;</span>

 <span class="token function">assertUsesNatMath</span><span class="token punctuation">(</span>zcf<span class="token punctuation">,</span> quatloosBrand<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="satisfies-zcf-seat-update"><a href="#satisfies-zcf-seat-update" class="header-anchor">#</a> satisfies(zcf, seat, update)</h2> <ul><li><code>zcf</code>- <code>{ContractFacet}</code></li> <li><code>seat</code> - <code>{ZCFSeat}</code></li> <li><code>update</code> - <code>{AmountKeywordRecord}</code></li> <li>Returns: <code>{Boolean}</code></li></ul> <p>This method always takes <code>zcf</code> as its first argument.</p> <p>Returns <code>true</code> if an update to a <code>seat</code>'s <code>currentAllocation</code> satisfies its
<code>proposal.want</code>. Note this is half of the offer safety check;
it does not check if the allocation constitutes a refund.
The update is merged with <code>currentAllocation</code> such that
<code>update</code>'s values prevail if the keywords are the same. If they
are not the same, the <code>keyword</code> and <code>value</code> is just added to the <code>currentAllocation</code>.</p> <p>The following example code uses <code>satisfies()</code> to define a <code>satisfiedBy()</code> comparison
method between two <code>seats</code>. It checks if the second <code>seat</code> argument's <code>currentAllocation</code>
satisfies the first <code>seat</code> argument's <code>proposal.want</code>.</p> <p>It then calls <code>satisfiedBy()</code> on both orders of the two <code>seats</code>. If both satisfy each other,
it does a swap on them.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  satisfies<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@agoric/zoe/src/contractSupport'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">satisfiedBy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">xSeat<span class="token punctuation">,</span> ySeat</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token function">satisfies</span><span class="token punctuation">(</span>zcf<span class="token punctuation">,</span> xSeat<span class="token punctuation">,</span> ySeat<span class="token punctuation">.</span><span class="token function">getCurrentAllocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">satisfiedBy</span><span class="token punctuation">(</span>offer<span class="token punctuation">,</span> seat<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">satisfiedBy</span><span class="token punctuation">(</span>seat<span class="token punctuation">,</span> offer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">swap</span><span class="token punctuation">(</span>zcf<span class="token punctuation">,</span> seat<span class="token punctuation">,</span> offer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="trade-zcf-left-right-lefthasexitedmsg-righthasexitedmsg"><a href="#trade-zcf-left-right-lefthasexitedmsg-righthasexitedmsg" class="header-anchor">#</a> trade(zcf, left, right, leftHasExitedMsg, rightHasExitedMsg)</h2> <ul><li><code>zcf</code> - <code>{ContractFacet}</code></li> <li><code>left</code> - <code>{SeatGainsLossesRecord}</code></li> <li><code>right</code> - <code>{SeatGainsLossesRecord}</code></li> <li><code>leftHasExitedMsg</code> - <code>{String}</code> - Optional</li> <li><code>rightHasExitedMsg</code> - <code>{String}</code> - Optional</li> <li>Returns: void</li></ul> <details class="custom-block details"><summary>SeatGainsLossesRecord</summary> <ul><li><code>seat</code> - <code>{ZCFSeat}</code></li> <li><code>gains</code> - <code>{AmountKeywordRecord}</code>  - what the seat will
gain as a result of this trade</li> <li><code>losses</code> - <code>{AmountKeywordRecord=}</code>  - what the seat will give up
as a result of this trade. Losses is optional, but can only be
omitted if the keywords for both seats are the same. If losses is
not defined, the gains of the other seat is subtracted.</li></ul></details> <p><strong>Note</strong>: The <code>swap()</code> method is a specific use of <code>trade()</code>. In <code>swap()</code>,
for both <code>seats</code>, everything a <code>seat</code> wants is given to it, having been
taken from the other <code>seat</code>. <code>swap()</code> exits both <code>seats</code>, but <code>trade()</code> does not.</p> <ul><li>Use <code>trade()</code> when any of these are true:
<ul><li>The <code>seats</code> have different keywords.</li> <li>The <code>amounts</code> to be reallocated don't exactly match the wants of the <code>seats</code>.</li> <li>You want to continue to interact with the <code>seats</code> after the trade.</li></ul></li> <li>Use <code>swap()</code> when all of these are true:
<ul><li>Both <code>seats</code> use the same keywords.</li> <li>The <code>seats</code>' wants can be fulfilled from the other <code>seat</code>.</li> <li>No further <code>seat</code> interaction is desired.</li></ul></li></ul> <p>This method always takes <code>zcf</code> as its first argument.</p> <p>The <code>left</code> and <code>right</code> arguments are each <code>SeatGainsLossesRecords</code>
with <code>seat</code>, <code>gains</code>, and optional <code>losses</code> properties. <code>gains</code> and
<code>losses</code> are <code>amountKeywordRecords</code> describing declaratively what is
added or removed from that <code>seat</code>'s allocation.</p> <p><code>trade()</code> does a trade between the <code>seats</code> in <code>left</code> and <code>right</code>. If the two <code>seats</code> can trade,
it swaps their compatible assets.</p> <p>Any surplus remains with its original <code>seat</code>. For example if <code>seat</code>
A gives 5 Quatloos and <code>seat</code> B only wants 3 Quatloos, <code>seat</code> A retains 2 Quatloos.</p> <p>If either of the seats has exited, <code>trade</code> throws. <code>trade</code> itself does NOT
<code>kickOut</code> or <code>exit</code> either seat for any reason.</p> <p>If the trade fails for reasons other than either seat exiting, it
throws the message <code>The trade between left and right failed. Please check the log for more information</code>. It writes the specific error to
the console.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  trade<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@agoric/zoe/src/contractSupport'</span><span class="token punctuation">;</span>
<span class="token function">trade</span><span class="token punctuation">(</span>
      zcf<span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        seat<span class="token operator">:</span> poolSeat<span class="token punctuation">,</span>
        gains<span class="token operator">:</span> <span class="token punctuation">{</span> Central<span class="token operator">:</span> amountIn <span class="token punctuation">}</span><span class="token punctuation">,</span>
        losses<span class="token operator">:</span> <span class="token punctuation">{</span> Secondary<span class="token operator">:</span> amountOut <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        seat<span class="token operator">:</span> swapSeat<span class="token punctuation">,</span>
        gains<span class="token operator">:</span> <span class="token punctuation">{</span> Out<span class="token operator">:</span> amountOut <span class="token punctuation">}</span><span class="token punctuation">,</span>
        losses<span class="token operator">:</span> <span class="token punctuation">{</span> In<span class="token operator">:</span> amountIn <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="swap-zcf-leftseat-rightseat-lefthasexitedmsg-righthasexitedmsg"><a href="#swap-zcf-leftseat-rightseat-lefthasexitedmsg-righthasexitedmsg" class="header-anchor">#</a> swap(zcf, leftSeat, rightSeat, leftHasExitedMsg, rightHasExitedMsg)</h2> <ul><li><code>zcf</code> <code>{ContractFacet}</code></li> <li><code>leftSeat</code> <code>{ZCFSeat}</code></li> <li><code>rightSeat</code> <code>{ZCFSeat}</code></li> <li><code>leftHasExitedMsg</code> - <code>{String}</code> - Optional</li> <li><code>rightHasExitedMsg</code> - <code>{String}</code> - Optional</li> <li>Returns: <code>defaultAcceptanceMsg</code></li></ul> <p><strong>Note</strong>: The <code>swap()</code> method is a specific use of <code>trade()</code>. In <code>swap(),</code>
for both <code>seats</code>, everything a <code>seat</code> wants is given to it, having been
taken from the other <code>seat</code>. <code>swap()</code> exits both <code>seats</code>, but <code>trade()</code> does not.</p> <ul><li>Use <code>trade()</code> when any of these are true:
<ul><li>The <code>seats</code> have different keywords.</li> <li>The <code>amounts</code> to be reallocated don't exactly match the wants of the <code>seats</code>.</li> <li>You want to continue interacting with the <code>seats</code> after the trade.</li></ul></li> <li>Use <code>swap()</code> when all of these are true:
<ul><li>Both <code>seats</code> use the same keywords.</li> <li>The <code>seats</code>' wants can be fulfilled from the other <code>seat</code>.</li> <li>No further <code>seat</code> interaction is desired.</li></ul></li></ul> <p>This method always takes <code>zcf</code> as its first argument.</p> <p><code>leftHasExitedMsg</code> and <code>rightHasExitedMsg</code> are optional and are passed
to <code>trade</code> within <code>swap</code> to add custom error messages in the case that
either seat has exited.</p> <p>If the two <code>seats</code> can trade, then swap their compatible assets,
exiting both <code>seats</code>. It returns the message <code>The offer has been accepted. Once the contract has been completed, please check your payout</code>.</p> <p>Any surplus remains with whichever <code>seat</code> has the surplus.
For example if <code>seat</code> A gives 5 Quatloos and <code>seat</code> B only
wants 3 Quatloos, <code>seat</code> A retains 2 Quatloos.</p> <p>If the swap fails, no assets transfer, and both left and right <code>seats</code> are exited.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  swap<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@agoric/zoe/src/contractSupport'</span><span class="token punctuation">;</span>

<span class="token function">swap</span><span class="token punctuation">(</span>zcf<span class="token punctuation">,</span> firstSeat<span class="token punctuation">,</span> secondSeat<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="swapexact-zcf-leftseat-rightseat-lefthasexitedmsg-righthasexitedmsg"><a href="#swapexact-zcf-leftseat-rightseat-lefthasexitedmsg-righthasexitedmsg" class="header-anchor">#</a> swapExact(zcf, leftSeat, rightSeat, leftHasExitedMsg, rightHasExitedMsg)</h2> <ul><li><code>zcf</code> <code>{ContractFacet}</code></li> <li><code>leftSeat</code> <code>{ZCFSeat}</code></li> <li><code>rightSeat</code> <code>{ZCFSeat}</code></li> <li><code>leftHasExitedMsg</code> - <code>{String}</code> - Optional</li> <li><code>rightHasExitedMsg</code> - <code>{String}</code> - Optional</li> <li>Returns: <code>defaultAcceptanceMsg</code></li></ul> <p><strong>Note</strong>: <code>swapExact()</code> and <code>swap()</code> are specific uses of <code>trade()</code>. In <code>swap()</code> and <code>swapExact()</code>,
for both seats, everything a seat wants is given to it, having been
taken from the other seat. <code>swap()</code> and <code>swapExact()</code> exit both seats, but <code>trade()</code> does not.</p> <ul><li>Use <code>trade()</code> when any of these are true:
<ul><li>The <code>seats</code> have different keywords.</li> <li>The <code>amounts</code> to be reallocated don't exactly match the wants of the <code>seats</code>.</li> <li>You want to continue interacting with the <code>seats</code> after the trade.</li></ul></li> <li>Use <code>swap()</code> or <code>swapExact()</code> when all of these are true:
<ul><li>Both <code>seats</code> use the same keywords.</li> <li>The <code>seats</code>' wants can be fulfilled from the other <code>seat</code>.</li> <li>No further <code>seat</code> interaction is desired.</li></ul></li></ul> <p>This method always takes <code>zcf</code> as its first argument.</p> <p><code>leftHasExitedMsg</code> and <code>rightHasExitedMsg</code> are optional and are passed
to <code>trade()</code> within <code>swapExact()</code> to add custom error messages in the case that
either seat has exited. They default to <code>the left seat in swapExact() has exited</code>,
and <code>the right seat in swapExact() has exited</code> respectively.</p> <p><code>exactSwap()</code> is a special case of <code>swap()</code> such that it is successful only
if both seats gain everything they want and lose everything they were willing to give.
It is only good for exact and entire swaps where each
seat wants everything that the other seat has. The benefit of using
this method is that the keywords of each seat do not matter.</p> <p>If the two <code>seats</code> can trade, then swap their compatible assets,
exiting both <code>seats</code>. It returns the message <code>The offer has been accepted. Once the contract has been completed, please check your payout</code>.</p> <p>If the swap fails, no assets transfer, and both left and right <code>seats</code> are exited.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  swapExact<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@agoric/zoe/src/contractSupport'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> swapMsg <span class="token operator">=</span> <span class="token function">swapExact</span><span class="token punctuation">(</span>zcf<span class="token punctuation">,</span> zcfSeatA<span class="token punctuation">,</span> zcfSeatB<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="assertproposalshape-seat-expected"><a href="#assertproposalshape-seat-expected" class="header-anchor">#</a> assertProposalShape(seat, expected)</h2> <ul><li><code>seat</code> <code>{ZCFSeat}</code></li> <li><code>expected</code> <code>{ExpectedRecord}</code></li> <li>Returns: <code>{void}</code></li></ul> <p>This is the only ZoeHelper that does <strong>not</strong> take 'zcf' as its first argument.</p> <p>Check the seat's proposal against an <code>expected</code> record that says
what shape of proposal is acceptable.</p> <p>By &quot;shape&quot;, we mean the <code>give</code>, <code>want</code>, and exit rule keywords of the proposal must be equal to
those in <code>expected</code>. Note that exit rule keywords are optional in <code>expected</code>. Also, none of the
values of those keywords are checked.</p> <p>This <code>ExpectedRecord</code> is like a <code>Proposal</code>, but the amounts in <code>want</code>
and <code>give</code> should be <code>null</code>; the <code>exit</code> clause should specify a rule with
<code>null</code> contents. If the client submits a <code>Proposal</code> which does not match
these expectations, that <code>proposal</code> is rejected (and refunded).</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  assertProposalShape<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@agoric/zoe/src/contractSupport'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> sellAssetForPrice <span class="token operator">=</span> <span class="token function">harden</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    give<span class="token operator">:</span> <span class="token punctuation">{</span> Asset<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    want<span class="token operator">:</span> <span class="token punctuation">{</span> Price<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">sell</span> <span class="token operator">=</span> <span class="token parameter">seat</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">assertProposalShape</span><span class="token punctuation">(</span>seat<span class="token punctuation">,</span> sellAssetForPrice<span class="token punctuation">)</span><span class="token punctuation">;</span>
  buySeats <span class="token operator">=</span> <span class="token function">swapIfCanTradeAndUpdateBook</span><span class="token punctuation">(</span>buySeats<span class="token punctuation">,</span> sellSeats<span class="token punctuation">,</span> seat<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">'Trade Successful'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="deposittoseat-zcf-recipientseat-amounts-payments"><a href="#deposittoseat-zcf-recipientseat-amounts-payments" class="header-anchor">#</a> depositToSeat(zcf, recipientSeat, amounts, payments)</h2> <ul><li><code>zcf</code> <code>{ContractFacet }</code></li> <li><code>recipientSeat</code> <code>{ZCFSeat}</code></li> <li><code>amounts</code> <code>{AmountKeywordRecord}</code></li> <li><code>payments</code> <code>{PaymentPKeywordRecord}</code></li> <li>Returns: <code>{Promise&lt;string&gt;}</code>
Deposit payments such that their amounts are reallocated to a seat.
The <code>amounts</code> and <code>payments</code> records must have corresponding
keywords.</li></ul> <p>If the seat has exited, aborts with the message <code>The recipientSeat cannot have exited.</code></p> <p>On success, returns the exported and settable <code>depositToSeatSuccessMsg</code> which
defaults to <code>Deposit and reallocation successful.</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  depositToSeat<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@agoric/zoe/src/contractSupport'</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> <span class="token function">depositToSeat</span><span class="token punctuation">(</span>zcf<span class="token punctuation">,</span> zcfSeat<span class="token punctuation">,</span> <span class="token punctuation">{</span> Dep<span class="token operator">:</span> <span class="token function">quatloos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> Dep<span class="token operator">:</span> quatloosPayment <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="withdrawfromseat-zcf-seat-amounts"><a href="#withdrawfromseat-zcf-seat-amounts" class="header-anchor">#</a> withdrawFromSeat(zcf, seat, amounts)</h2> <ul><li><code>zcf</code> <code>{ContractFacet }</code></li> <li><code>seat</code> <code>{ZCFSeat}</code></li> <li><code>amounts</code> <code>{AmountKeywordRecord}</code></li> <li>Returns: <code>{Promise&lt;PaymentPKeywordRecord&gt;}</code></li></ul> <p>Withdraw payments from a seat. Note that withdrawing the amounts of
the payments must not and cannot violate offer safety for the seat. The
<code>amounts</code> and <code>payments</code> records must have corresponding keywords.</p> <p>If the seat has exited, aborts with the message <code>The seat cannot have exited.</code></p> <p>Unlike <code>depositToSeat()</code>, a <code>PaymentKeywordRecord</code> is returned, not a success message.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  withdrawFromSeat<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@agoric/zoe/src/contractSupport'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> paymentKeywordRecord <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">withdrawFromSeat</span><span class="token punctuation">(</span>zcf<span class="token punctuation">,</span> zcfSeat<span class="token punctuation">,</span> <span class="token punctuation">{</span> With<span class="token operator">:</span> <span class="token function">quatloos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="saveallissuers-zcf-issuerkeywordrecord"><a href="#saveallissuers-zcf-issuerkeywordrecord" class="header-anchor">#</a> saveAllIssuers(zcf, issuerKeywordRecord)</h2> <ul><li><code>zcf</code> <code>{ContractFacet }</code></li> <li><code>issuerKeywordRecord</code> <code>{IssuerKeywordRecord}</code></li> <li>Returns: <code>{Promise&lt;PaymentPKeywordRecord&gt;}</code></li></ul> <p>Save all of the issuers in an <code>issuersKeywordRecord</code> to ZCF, using
the method <a href="/documentation/zoe/api/zoe-contract-facet.html#zcf-saveissuer-issuer-keyword"><code>zcf.saveIssuer()</code></a>.</p> <p>This does <strong>not</strong> error if any of the keywords already exist. If the keyword is
already present, it is ignored.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  saveAllIssuers<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@agoric/zoe/src/contractSupport'</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> <span class="token function">saveAllIssuers</span><span class="token punctuation">(</span>zcf<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">G</span><span class="token operator">:</span> gIssuer<span class="token punctuation">,</span> <span class="token constant">D</span><span class="token operator">:</span> dIssuer<span class="token punctuation">,</span> <span class="token constant">P</span><span class="token operator">:</span> pIssuer <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Agoric/documentation/edit/main/main/zoe/api/zoe-helpers.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/30/2020, 4:11:31 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/documentation/zoe/api/zoe-contract-facet.html" class="prev">
        Zoe Contract Facet
      </a></span> <span class="next"><a href="/documentation/zoe/roadmap/">
        Zoe Roadmap
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/documentation/assets/js/app.75f664bd.js" defer></script><script src="/documentation/assets/js/2.5bb364b1.js" defer></script><script src="/documentation/assets/js/44.fa7db521.js" defer></script>
  </body>
</html>
