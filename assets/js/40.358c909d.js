(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{439:function(t,a,s){"use strict";s.r(a);var e=s(44),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"introduction-to-zoe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction-to-zoe"}},[t._v("#")]),t._v(" Introduction to Zoe")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Beta status")]),t._v(" "),s("p",[t._v("Zoe is currently at Beta status. It has not yet been\nformally tested or hardened. It is not yet of production quality.")])]),t._v(" "),s("h2",{attrs:{id:"what-is-zoe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-is-zoe"}},[t._v("#")]),t._v(" What is Zoe?")]),t._v(" "),s("p",[t._v("Zoe is Agoric's smart contract framework. Use Zoe to:")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("Run your code on-chain")])]),t._v(" "),s("li",[s("strong",[t._v("Mint new digital assets")])]),t._v(" "),s("li",[s("strong",[t._v("Credibly trade assets")])])]),t._v(" "),s("p",[t._v("Zoe relies on Agoric's "),s("RouterLink",{attrs:{to:"/getting-started/ertp-introduction.html"}},[s("em",[t._v("Electronic Rights Transfer Protocol\n(ERTP)")])]),t._v(", our token standard.")],1),t._v(" "),s("h2",{attrs:{id:"why-use-zoe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#why-use-zoe"}},[t._v("#")]),t._v(" Why use Zoe?")]),t._v(" "),s("h3",{attrs:{id:"for-users"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#for-users"}},[t._v("#")]),t._v(" For Users")]),t._v(" "),s("p",[s("strong",[t._v("Zoe is safer.")]),t._v(" Traditionally, putting digital assets in a smart\ncontract has risked losing them. But Zoe guarantees you get either\nwhat you wanted or a full refund of the assets you put in. You will\nnever leave a contract empty-handed, even if the smart contract is\nbuggy or malicious.")]),t._v(" "),s("h3",{attrs:{id:"for-developers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#for-developers"}},[t._v("#")]),t._v(" For Developers")]),t._v(" "),s("p",[s("strong",[t._v("Zoe is easier.")]),t._v("  Traditionally, writing a smart contract meant\nlearning a new, untried language. And don't make any mistakes - if you\ndo, your users might lose millions.")]),t._v(" "),s("p",[t._v("However, you write Zoe contracts in a secure subset of JavaScript.\nMoreover, Zoe automatically escrows all user digital assets and\nhandles their subsequent payout. "),s("strong",[t._v("Even a buggy contract can't cause\nusers to lose their assets.")])]),t._v(" "),s("h3",{attrs:{id:"contracts-on-zoe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#contracts-on-zoe"}},[t._v("#")]),t._v(" Contracts on Zoe")]),t._v(" "),s("p",[t._v("Agoric has written "),s("RouterLink",{attrs:{to:"/zoe/guide/contracts/"}},[t._v("a number of example contracts that you can\nuse")]),t._v(", including:")],1),t._v(" "),s("ul",[s("li",[t._v("an "),s("RouterLink",{attrs:{to:"/zoe/guide/contracts/multipoolAutoswap.html"}},[t._v("Automated Market Maker (AMM)\nimplementation")])],1),t._v(" "),s("li",[t._v("a "),s("RouterLink",{attrs:{to:"/zoe/guide/contracts/covered-call.html"}},[t._v("covered call option\ncontract")])],1),t._v(" "),s("li",[t._v("an "),s("a",{attrs:{href:"https://github.com/Agoric/agoric-sdk/blob/master/packages/zoe/src/contracts/otcDesk.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("OTC Desk market maker\ncontract"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("contracts for "),s("a",{attrs:{href:"https://github.com/Agoric/agoric-sdk/blob/master/packages/zoe/src/contracts/mintPayments.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("minting fungible"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://github.com/Agoric/agoric-sdk/blob/master/packages/zoe/src/contracts/mintAndSellNFT.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("non-fungible tokens"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"using-an-example-zoe-smart-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-an-example-zoe-smart-contract"}},[t._v("#")]),t._v(" Using an example Zoe smart contract")]),t._v(" "),s("p",[t._v("You must have a Zoe invitation to a specific contract instance to join\nand participate in it. Let's imagine your friend Alice has sent you a\n"),s("code",[t._v("Zoe invitation")]),t._v(" for a contract instance to your\n"),s("RouterLink",{attrs:{to:"/guides/wallet/"}},[t._v("wallet")]),t._v(".")],1),t._v(" "),s("p",[t._v("Compare this to a smart contract on Ethereum. On Ethereum, the smart\ncontract developer must guard against malicious calls and store an\ninternal access control list to check whether the message sender is\nallowed to send such a message. Zoe, built on Agoric's "),s("RouterLink",{attrs:{to:"/glossary/#object-capabilities"}},[t._v("object\ncapability")]),t._v(" security model, is just\neasier.")],1),t._v(" "),s("p",[t._v("This particular invitation is for an "),s("a",{attrs:{href:"https://github.com/Agoric/agoric-sdk/blob/master/packages/zoe/src/contracts/atomicSwap.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("AtomicSwap\ncontract"),s("OutboundLink")],1),t._v(".\nIn an AtomicSwap, one party puts up digital assets they want to\nexchange and sends an invitation to a second party for them to\npossibly complete the exchange. In this example, Alice has already\nescrowed the assets she wants to swap and is asking you to pay a\nspecified price to receive her digital assets.")]),t._v(" "),s("h3",{attrs:{id:"inspecting-an-invitation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inspecting-an-invitation"}},[t._v("#")]),t._v(" Inspecting an invitation")]),t._v(" "),s("p",[t._v("So you have an invitation, but how do you use it? First, you use Zoe\nto inspect and validate the invitation.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" invitationDetails "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zoe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInvitationDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("invitation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" installation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" asset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" price "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" invitationDetails"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("E() is part of the Agoric platform and is used to "),s("RouterLink",{attrs:{to:"/guides/js-programming/eventual-send.html"}},[t._v("call methods on\nremote objects and receive a promise for the\nresult")]),t._v(".\nCode on the Agoric platform is put in separate environments, called\n"),s("RouterLink",{attrs:{to:"/glossary/#vat"}},[t._v("vats")]),t._v(", for security. Zoe is in a different vat,\nmaking it a remote object, so we must use E().")],1)]),t._v(" "),s("p",[t._v("Invitations include information about their contract's installation.\nEssentially, this is the contract's source code as installed on Zoe.\nFrom this overall contract installation, people use Zoe to create and\nrun specific instances of the contract. For example, if a real estate\ncompany has a contract for selling a house, they would create an\ninstance of the contract for each individual house they have up for\nsale.")]),t._v(" "),s("p",[t._v("You use object identity comparison to quickly check that you recognize\nthis contract installation, without having to check source code\nline-by-line to ensure the code is the same. In other words, you're\nsure this invitation is for participating in an instance of the\ncontract it says it is, and not an unknown and possibly malicious one.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isCorrectCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" installation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" atomicSwapInstallation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("p",[t._v("However, if you don't recognize the installation, you can inspect the\ncode directly by calling:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bundledCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("installation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBundle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("p",[t._v("In many cases, the bundled source is a single reviewable string.\nIn others, the bundle contains to base 64 encoded zip file that you can\nextract for review.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("jq -r .endoZipBase64 bundle.json | base64 -d > bundle.zip\nunzip bundle.zip\n")])])]),s("p",[t._v("Contracts can add their own specific information to invitations. In\nthis case, the Atomic Swap contract adds information about what is\nbeing traded: the "),s("code",[t._v("asset")]),t._v(", the amount Alice has escrowed, and the\n"),s("code",[t._v("price")]),t._v(", what you must pay to get the asset. Let's say "),s("code",[t._v("asset")]),t._v(" is an\n"),s("code",[t._v("amount")]),t._v(" of 3 moola, and "),s("code",[t._v("price")]),t._v(" is an "),s("code",[t._v("amount")]),t._v(" of 7 simoleans. (Moola\nand simoleans are made-up currencies for this example.) Amounts are\ndescriptions of digital assets, but have no value themselves. Please\nsee the ERTP guide for more on\n"),s("RouterLink",{attrs:{to:"/ertp/guide/amounts.html#amounts-values-and-brands"}},[t._v("amounts")]),t._v(".")],1),t._v(" "),s("h3",{attrs:{id:"making-an-offer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#making-an-offer"}},[t._v("#")]),t._v(" Making an offer")]),t._v(" "),s("p",[t._v("You've successfully checked out the invitation, so now you can make an\noffer.")]),t._v(" "),s("p",[t._v("An offer has three required parts:")]),t._v(" "),s("ul",[s("li",[t._v("a Zoe invitation")]),t._v(" "),s("li",[t._v("a proposal")]),t._v(" "),s("li",[t._v("the digital assets you're offering to swap")])]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("proposal")]),t._v(" states what you want from the offer, and what you will\ngive in return. Zoe uses the proposal as an invariant to ensure you\ndon't lose your assets in the trade. This invariant is known as "),s("strong",[t._v("offer\nsafety")]),t._v(".")]),t._v(" "),s("p",[t._v("You use the invitation's "),s("code",[t._v("asset")]),t._v(" and "),s("code",[t._v("price")]),t._v(" amounts to make your\nproposal:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proposal "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  want"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Asset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" asset "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// asset: 3 moola")]),t._v("\n  give"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" price "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// price: 7 simoleans")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("p",[t._v("Proposals must use Keywords, which are capitalized ASCII keys. Here,\nthe specific keywords, "),s("code",[t._v("Asset")]),t._v(" and "),s("code",[t._v("Price")]),t._v(", are "),s("a",{attrs:{href:"https://github.com/Agoric/agoric-sdk/blob/23c3f9df56940230e21a16b4861f40197192fdea/packages/zoe/src/contracts/atomicSwap.js#L29",target:"_blank",rel:"noopener noreferrer"}},[t._v("determined by the\ncontract\ncode"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("You said you would give 7 simoleans, so you must send 7 simoleans as\nan "),s("RouterLink",{attrs:{to:"/ertp/guide/purses-and-payments.html"}},[t._v("ERTP payment")]),t._v(". ("),s("RouterLink",{attrs:{to:"/ertp/guide/purses-and-payments.html"}},[t._v("ERTP\npayments")]),t._v(" are how the Agoric\nplatform transfers fungible and nonfungible digital assets.) You\nhappen to have some simoleans lying around in a simolean\n"),s("RouterLink",{attrs:{to:"/ertp/guide/purses-and-payments.html"}},[t._v("purse")]),t._v(" (used to hold digital\nassets of a specific type). You withdraw a payment of 7 simoleans from\nthe purse for your offer, and construct an object using the same\nKeyword as your "),s("code",[t._v("proposal.give")]),t._v(":")],1),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" simoleanPayment "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("purse"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withdraw")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" payments "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" simoleanPayment "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("p",[t._v("Now  you need to "),s("RouterLink",{attrs:{to:"/guides/js-programming/ses/ses-guide.html"}},[t._v("harden")]),t._v(" your\njust created "),s("code",[t._v("proposal")]),t._v(" and "),s("code",[t._v("payments")]),t._v(" objects. Hardening is\ntransitively freezing an object. For security reasons, we must harden\nany objects that will be passed to a remote object like Zoe.")],1),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("harden")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("proposal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("harden")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("payments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("p",[t._v("You've put the required pieces together, so now you can make an offer:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" userSeat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zoe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("invitation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" proposal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("p",[t._v("At this point, Zoe burns your invitation and confirms its validity.\nZoe also escrows all of your payments, representing their value in\namounts as your "),s("code",[t._v("current allocation")]),t._v(" in the contract.")]),t._v(" "),s("h3",{attrs:{id:"using-your-userseat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-your-userseat"}},[t._v("#")]),t._v(" Using your UserSeat")]),t._v(" "),s("p",[t._v("Making an offer as a user returns a "),s("code",[t._v("UserSeat")]),t._v('. This seat represents\nyour position in the ongoing contract instance (your "seat at the\ntable"). You can use this seat to:')]),t._v(" "),s("ol",[s("li",[t._v("Exit the contract.")]),t._v(" "),s("li",[t._v("Get information about your position such as your current allocation.")]),t._v(" "),s("li",[t._v("Get your payouts from Zoe.")])]),t._v(" "),s("p",[t._v("Check that your offer was successful:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" offerResult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("userSeat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOfferResult")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("p",[t._v('In response to your offer, the AtomicSwap contract returns the\nmessage: "The offer has been accepted. Once the contract has been\ncompleted, please check your payout." Other contracts and offers may\nreturn something different. The offer\'s result is entirely up to the\ncontract.')]),t._v(" "),s("h3",{attrs:{id:"getting-payouts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-payouts"}},[t._v("#")]),t._v(" Getting payouts")]),t._v(" "),s("p",[t._v("Because this was an AtomicSwap contract, it is over once the second\nparty escrows the correct assets. You can get your payout of moola\nwith the Keyword you used ('Asset'):")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" moolaPayment "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("userSeat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPayout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Asset'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("p",[t._v("Alice also receives her payouts:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" aliceSimoleanPayment "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("aliceSeat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPayout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Price'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("h2",{attrs:{id:"writing-and-installing-a-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#writing-and-installing-a-contract"}},[t._v("#")]),t._v(" Writing and installing a contract")]),t._v(" "),s("p",[t._v("Now that you've seen how to participate in a contract instance, let's\nlook at how you'd create a contract and its instances.")]),t._v(" "),s("p",[t._v("Let's pretend Alice wrote that contract from scratch, even though\nAtomicSwap is one of Agoric's example contracts ("),s("a",{attrs:{href:"https://github.com/Agoric/agoric-sdk/blob/master/packages/zoe/src/contracts/atomicSwap.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("see the full\nAtomicSwap code\nhere"),s("OutboundLink")],1),t._v(").\nNote: All Zoe contracts must have this format:")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("Show contract format")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @ts-check")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Checks the types as defined in JSDoc comments")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Add imports here")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: you may wish to use the Zoe helpers in")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @agoric/zoe/src/contractSupport/index.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" swap "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@agoric/zoe/src/contractSupport/index.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Import the Zoe types")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@agoric/zoe/exported.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * [Contract Description Here]\n *\n * @type {ContractStartFn}\n */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("start")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("zcf")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ZCF: the Zoe Contract Facet")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Add contract logic here, including the")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// handling of offers and the making of invitations.")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Example: This is an example of an offerHandler")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// which just gives a refund payout automatically.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myOfferHandler")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("zcfSeat")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    zcfSeat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" offerResult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" offerResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Example: This is an invitation that, if used to make")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// an offer will trigger `myOfferHandler`, giving a")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// refund automatically.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" invitation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" zcf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeInvitation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myOfferHandler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myInvitation'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: Methods added to this object are available")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// to the creator of the instance.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" creatorFacet "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: Methods added to this object are available")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// to anyone who knows about the contract instance.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Price queries and other information requests can go here.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" publicFacet "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("harden")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    creatorInvitation"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" invitation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// optional")]),t._v("\n    creatorFacet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// optional")]),t._v("\n    publicFacet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// optional")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("harden")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" start "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])])]),t._v(" "),s("p",[t._v("Alice fills in this code template with "),s("a",{attrs:{href:"https://github.com/Agoric/agoric-sdk/blob/master/packages/zoe/src/contracts/atomicSwap.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("AtomicSwap's\nparticulars"),s("OutboundLink")],1),t._v(".\nTo install this particular code, Alice first must bundle it off-chain,\nmeaning the code and its imports are flattened together:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" bundleSource "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@agoric/bundle-source'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" atomicSwapBundle "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bundleSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@agoric/zoe/src/contracts/atomicSwap'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("p",[t._v("Then Alice must install it on Zoe:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" atomicSwapInstallation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zoe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("atomicSwapBundle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("p",[t._v("The return value is an "),s("code",[t._v("installation")]),t._v(", which we saw earlier. It is an\nobject identifying a particular piece of code installed on Zoe. It can\nbe compared to other installations, and you can call\n"),s("code",[t._v("E(atomicSwapInstallation).getBundle()")]),t._v(" to see the code itself.")]),t._v(" "),s("h3",{attrs:{id:"creating-an-instance"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-an-instance"}},[t._v("#")]),t._v(" Creating an instance")]),t._v(" "),s("p",[t._v("Now Alice uses the installation to create a new instance. She must\nalso tell Zoe about the ERTP issuers she wants to use, by specifying\ntheir role with Keywords. Alice was escrowing moola, so she uses the\nkeyword "),s("code",[t._v("Asset")]),t._v(" to label the "),s("code",[t._v("moolaIssuer")]),t._v(". She wanted simoleans, so\nshe uses the keyword "),s("code",[t._v("Price")]),t._v(" to label the "),s("code",[t._v("simoleanIssuer")]),t._v(". When you\ncreate a new instance of the contract ("),s("a",{attrs:{href:"https://github.com/Agoric/agoric-sdk/blob/23c3f9df56940230e21a16b4861f40197192fdea/packages/zoe/src/contracts/atomicSwap.js#L58",target:"_blank",rel:"noopener noreferrer"}},[t._v("see permalink to line\n58"),s("OutboundLink")],1),t._v(")\nby calling "),s("code",[t._v("startInstance()")]),t._v(", it returns a "),s("code",[t._v("creatorInvitation")]),t._v(". Alice\nuses this to make her offer; even the instance's creator needs to have\nan invitation to it to participate in it.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" issuerKeywordRecord "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("harden")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Asset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" moolaKit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("issuer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" simoleanKit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("issuer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" creatorInvitation "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zoe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  atomicSwapInstallation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  issuerKeywordRecord"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("p",[t._v("As per the "),s("a",{attrs:{href:"https://github.com/Agoric/agoric-sdk/blob/23c3f9df56940230e21a16b4861f40197192fdea/packages/zoe/src/contracts/atomicSwap.js#L50",target:"_blank",rel:"noopener noreferrer"}},[t._v("Atomic Swap contract\ncode"),s("OutboundLink")],1),t._v(",\nAlice gets an invitation as a result of her offer. This is the\ninvitation she sends to the counter-party.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" aliceSeat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zoe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  creatorInvitation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  aliceProposal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  alicePayments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" invitation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("aliceSeat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOfferResult")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])])]),s("h2",{attrs:{id:"zoe-s-two-sides-zoe-service-and-zoe-contract-facet-zcf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zoe-s-two-sides-zoe-service-and-zoe-contract-facet-zcf"}},[t._v("#")]),t._v(" Zoe's two sides: Zoe Service and Zoe Contract Facet (ZCF)")]),t._v(" "),s("p",[t._v("You may have noticed the contract code's "),s("code",[t._v("start")]),t._v(" method had a "),s("code",[t._v("zcf")]),t._v("\nparameter. This is the Zoe Contract Facet. Zoe has two sides: the Zoe\nService, which you've seen users interact with, and the Zoe Contract\nFacet (ZCF), which is accessible to the contract code. Note that users\nhave access to the Zoe Service, but do not have access to ZCF.\nContract code has access to ZCF "),s("em",[t._v("and")]),t._v(" can get access to the Zoe\nService.")]),t._v(" "),s("p",[t._v("To learn more about the Zoe Service, Zoe Contract Facet, and Zoe\nHelper APIs, "),s("RouterLink",{attrs:{to:"/zoe/api/"}},[t._v("see our Zoe API documentation")]),t._v(".")],1),t._v(" "),s("h2",{attrs:{id:"next-steps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#next-steps"}},[t._v("#")]),t._v(" Next steps")]),t._v(" "),s("p",[t._v("If you want to dive deeper into how Zoe works and what you can do, go\nto the "),s("RouterLink",{attrs:{to:"/zoe/guide/"}},[t._v("Zoe Guide")]),t._v(".")],1),t._v(" "),s("p",[t._v("To learn more about the AtomicSwap contract, you can "),s("RouterLink",{attrs:{to:"/zoe/guide/contracts/atomic-swap.html"}},[t._v("read its\ndocumentation")]),t._v(" and "),s("a",{attrs:{href:"https://github.com/Agoric/agoric-sdk/blob/master/packages/zoe/src/contracts/atomicSwap.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("look at its\nsource\ncode"),s("OutboundLink")],1),t._v(".\nThere are several other example contracts for different transaction\ntypes in the "),s("RouterLink",{attrs:{to:"/zoe/guide/contracts/"}},[t._v("Contracts folder")])],1),t._v(" "),s("p",[t._v("To start building Zoe contracts and applications (dapps), follow the\ninstructions in "),s("RouterLink",{attrs:{to:"/getting-started/start-a-project.html"}},[t._v("Starting a\nProject")]),t._v(" after "),s("RouterLink",{attrs:{to:"/getting-started/before-using-agoric.html"}},[t._v("installing the\nprerequisites")]),t._v(".")],1),t._v(" "),s("p",[t._v("To explore the Zoe Service and Zoe Contract Facet APIs, see the "),s("RouterLink",{attrs:{to:"/zoe/api/"}},[t._v("Zoe\nAPI documentation here")]),t._v(".")],1)])}),[],!1,null,null,null);a.default=n.exports}}]);