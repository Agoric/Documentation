(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{462:function(t,a,s){"use strict";s.r(a);var e=s(44),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"sharing-service"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sharing-service"}},[t._v("#")]),t._v(" Sharing Service")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("sharingService")]),t._v(" object and package are not part of the general\nAgoric architecture, but can be useful for hackathons and demos.")]),t._v(" "),s("p",[s("code",[t._v("home.sharingService")]),t._v(" lets you connect to other vats\nconnected to the same remote chain vat. You can then\nuse a named "),s("em",[t._v("shared map")]),t._v(" to pass items to and from another vat.")]),t._v(" "),s("p",[t._v("Shared maps are conceptually similar to a physical bulletin\nboard. However, each shared map is only intended to be shared\nbetween two parties. If you have access to a shared map, you can\nappend objects to or remove objects from that shared map.")]),t._v(" "),s("p",[t._v("Name usage in shared maps is first come, first served, with\nevery name used only once.")]),t._v(" "),s("p",[s("code",[t._v("sharingService")]),t._v(" has three methods, with two more methods for\n"),s("code",[t._v("sharedMap")]),t._v(" objects:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("createSharedMap(name)")])]),t._v(" "),s("li",[s("code",[t._v("grabSharedMap(name)")])]),t._v(" "),s("li",[s("code",[t._v("validate(sharedMap)")])]),t._v(" "),s("li",[s("code",[t._v("addEntry(key, value)")]),t._v(" ("),s("code",[t._v("sharedMap")]),t._v(" method)")]),t._v(" "),s("li",[s("code",[t._v("lookup(key)")]),t._v(" ("),s("code",[t._v("sharedMap")]),t._v(" method)")])]),t._v(" "),s("p",[t._v("Use "),s("code",[t._v("sharingService")]),t._v(" by:")]),t._v(" "),s("ol",[s("li",[t._v("Calling "),s("code",[t._v("createSharedMap(name)")]),t._v(" to create a "),s("code",[t._v("sharedMap")]),t._v(" object with the\nspecified name. If the name is already used, it returns an error and\nyou must try again with a different name.")]),t._v(" "),s("li",[t._v("Share the "),s("code",[t._v("sharedMap")]),t._v(" object reference with whoever you want to have\naccess to it. Remember, the intent is that only one other party will use\na specific map with you.")]),t._v(" "),s("li",[t._v("They call "),s("code",[t._v("grabSharedMap(name)")]),t._v(" with the name you provided.")]),t._v(" "),s("li",[t._v("They call "),s("code",[t._v("validate(sharedMap)")]),t._v(" on the returned object.\n"),s("ul",[s("li",[t._v("If it's a valid "),s("code",[t._v("sharedMap")]),t._v(", then you and they have a private channel.")]),t._v(" "),s("li",[t._v("If invalid, then someone else has grabbed the name first, so you\nneed to set up a differently named map and try again.")]),t._v(" "),s("li",[t._v("Note that you only get the object if you're the first to request it. Otherwise,\nyou were beaten to it and don't get to use it.")])])]),t._v(" "),s("li",[t._v("Once you and another have a reference to the same valid "),s("code",[t._v("sharedMap")]),t._v("\nobject, either of you can call "),s("code",[t._v("addEntry(key, value)")]),t._v(" to store an\nobject, which the other party can retrieve with "),s("code",[t._v("lookup(key)")]),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"e-home-sharingservice-createsharedmap-name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#e-home-sharingservice-createsharedmap-name"}},[t._v("#")]),t._v(" "),s("code",[t._v("E(home.sharingService).createSharedMap(name)")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("name")]),t._v(": "),s("code",[t._v("{ String }")])]),t._v(" "),s("li",[t._v("Returns: "),s("code",[t._v("{ SharedMap }")])])]),t._v(" "),s("p",[t._v("Creates and returns a new shared map with the specified name.")]),t._v(" "),s("p",[t._v('Errors: If you specify an already used name for a shared map, it\nreturns "Error: Entry already exists: <name>".')]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("command"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sharingService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSharedMap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyMap"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Alleged"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" presence o"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("102")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"e-home-sharingservice-grabsharedmap-name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#e-home-sharingservice-grabsharedmap-name"}},[t._v("#")]),t._v(" "),s("code",[t._v("E(home.sharingService).grabSharedMap(name)")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("name")]),t._v(": "),s("code",[t._v("{ String }")])]),t._v(" "),s("li",[t._v("Returns: "),s("code",[t._v("{ SharedMap }")]),t._v(" or "),s("code",[t._v("undefined")])])]),t._v(" "),s("p",[t._v("Returns the "),s("code",[t._v("sharedMap")]),t._v(" object with the given name, if it exists.\nIf there is no "),s("code",[t._v("sharedMap")]),t._v(" with that name, it returns "),s("code",[t._v("undefined")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("command"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sharingService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grabSharedMap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"YourMap"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("\ncommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sharingService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grabSharedMap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyMap"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Alleged"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" presence o"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("102")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"e-home-sharingservice-validate-sharedmap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#e-home-sharingservice-validate-sharedmap"}},[t._v("#")]),t._v(" "),s("code",[t._v("E(home.sharingService).validate(sharedMap)")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("sharedMap")]),t._v(": "),s("code",[t._v("{ SharedMap }")])]),t._v(" "),s("li",[t._v("Returns: "),s("code",[t._v("{ Promise<SharedMap> }")]),t._v(" or throws an error if it fails to validate")])]),t._v(" "),s("p",[t._v("Validates the sharedMap argument. If valid, you and its creator have a private channel for posting and\nretrieving key-value pairs. If invalid, someone else must have grabbed the name first. You should discard\nthis sharedMap and its name and try again to establish a sharedMap connection with the map creator.")]),t._v(" "),s("p",[t._v("At the moment, there is a bug filed for the behavior shown below. While it would seem it should be the same,\nthe "),s("code",[t._v("my")]),t._v(" from "),s("code",[t._v("command[1]")]),t._v(" is "),s("strong",[t._v("not")]),t._v(" the same as "),s("code",[t._v("history[1]")]),t._v(". "),s("code",[t._v("my")]),t._v(" is the promise for the "),s("code",[t._v("sharedMap")]),t._v(". "),s("code",[t._v("history[1]")]),t._v("\nis the resolved version of that promise. Once the unresolved promise is assigned to "),s("code",[t._v("my")]),t._v(", "),s("code",[t._v("my")]),t._v(" doesn't update its value\nwhen the promise resolves.")]),t._v(" "),s("p",[t._v("Thus, when "),s("code",[t._v("validate()")]),t._v(" is called with an argument of "),s("code",[t._v("my")]),t._v(", it returns an error as "),s("code",[t._v("my")]),t._v(" is an unresolved promise.\nWhile "),s("code",[t._v("history[1]")]),t._v(" initially shows that unresolved promise, the REPL waits for it to resolve and prints the result\nas "),s("code",[t._v("history[1]")]),t._v(". If you later use a "),s("code",[t._v("history[1]")]),t._v(" reference, it refers to the promise's resolved state.")]),t._v(" "),s("p",[t._v("This behavior actually is "),s("strong",[t._v("not")]),t._v(" the bug. It's considered a quirk of the REPL. The bug is that "),s("code",[t._v("validate()")]),t._v(" doesn't\nwait for any promise arguments to resolve. This section will be updated when "),s("code",[t._v("validate()")]),t._v(" is revised to wait for\nits parameter to resolve before trying to validate it.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("command"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" my "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sharingService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSharedMap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyMap"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Alleged"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" presence o"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("134")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ncommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sharingService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("validate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("my"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Promise"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Error: Unrecognized sharedMap: (an object)"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sharingService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("validate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Alleged"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" presence o"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("134")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"e-home-sharingservice-sharedmap-addentry-key-value"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#e-home-sharingservice-sharedmap-addentry-key-value"}},[t._v("#")]),t._v(" "),s("code",[t._v("E(home.sharingService).sharedMap.addEntry(key, value)")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("sharedMap")]),t._v(": "),s("code",[t._v("{ sharedMap }")])]),t._v(" "),s("li",[s("code",[t._v("key")]),t._v(": "),s("code",[t._v("{ String }")])]),t._v(" "),s("li",[s("code",[t._v("value")]),t._v(": "),s("code",[t._v("{ Object }")])]),t._v(" "),s("li",[t._v("Returns: "),s("code",[t._v("{ Integer }")])])]),t._v(" "),s("p",[t._v("Adds an entry to the specified shared map with the specified key and value. Returns\nthe number of entries after the newly added one.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Alice creates a shared map")]),t._v("\ncommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" foo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sharingService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSharedMap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AliceMap"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Alleged"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" presence o"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("122")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Alice tells Bob about her shared map")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//In his REPL (thus the repeat of "command[0]"; the previous one was in Alice\'s REPL), ')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Bob grabs Alice's shared map")]),t._v("\ncommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" bar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sharingService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grabSharedMap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AliceMap"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Alleged"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" presence o"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("122")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//Alice adds the key-value pair of "key" and "value" to her shared map')]),t._v("\ncommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEntry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//Bob retrieves the value of the key-value pair in the shared map that has "key" as its key.')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//(thus the repeat of "command[1]"; the previous one was in Alice\'s REPL),')]),t._v("\ncommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lookup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),t._v("\n")])])]),s("h2",{attrs:{id:"e-home-sharingservice-sharedmap-lookup-key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#e-home-sharingservice-sharedmap-lookup-key"}},[t._v("#")]),t._v(" "),s("code",[t._v("E(home.sharingService).sharedMap.lookup(key)")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("key")]),t._v(": "),s("code",[t._v("{ String }")])]),t._v(" "),s("li",[t._v("Returns: "),s("code",[t._v("{ Object }")])])]),t._v(" "),s("p",[t._v("Returns the value associated with the specified key in the "),s("code",[t._v("sharedMap")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Alice creates a shared map.")]),t._v("\ncommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" foo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sharingService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSharedMap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AliceMap"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Alleged"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" presence o"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("122")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Alice tells Bob about her shared map")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//In his REPL (thus the repeat of "command[0]"; the previous one was in Alice\'s REPL), ')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Bob grabs Alice's shared map")]),t._v("\ncommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" bar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sharingService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grabSharedMap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AliceMap"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Alleged"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" presence o"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("122")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//Alice adds the key-value pair of "key" and "value" to her shared map')]),t._v("\ncommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEntry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//Bob retrieves the value of the key-value pair in the shared map that has "key" as its key.')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//(thus the repeat of "command[1]"; the previous one was in Alice\'s REPL),')]),t._v("\ncommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lookup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);