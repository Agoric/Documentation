(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{461:function(t,a,n){"use strict";n.r(a);var s=n(44),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"priceauthority-methods"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#priceauthority-methods"}},[t._v("#")]),t._v(" PriceAuthority Methods")]),t._v(" "),n("p",[t._v("We rely on "),n("code",[t._v("PriceAuthority")]),t._v(" oracles. A "),n("code",[t._v("PriceAuthority")]),t._v("\ngives reliable quotes for prices. The quotes might be based on broad surveys\nof prices across the ecosystem, or might come directly from an AMM (Automatic\nMarket Maker) like our\nAutoSwap. A "),n("code",[t._v("PriceAuthority")]),t._v(" can either give a quote for the current price\nacross any pair of currencies it knows about, or can immediately return a\n"),n("code",[t._v("Promise")]),t._v(" resolved when a condition is true. For example, a price\ncrossing some threshold, or at a particular time. It can also provide a\nprice feed that updates with every price change.")]),t._v(" "),n("p",[t._v("A "),n("code",[t._v("PriceQuote")]),t._v(" represents a statement from the PriceAuthority as to the\ncurrent price level at a particular time. The significant content (prices\nand time) is packaged in the amount, and repeated in the payment for veracity.\nA "),n("code",[t._v("PriceQuote")]),t._v(" is an amount-payment pair, where the amount is also the current\nbalance of the payment.")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" quoteAmount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" quotePayment "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" priceQuote"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("code",[t._v("PriceQuotes")]),t._v(" are returned in two forms:")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("PriceDescription")]),t._v(" "),n("ul",[n("li",[t._v("Always includes "),n("code",[t._v("amountIn")]),t._v(", "),n("code",[t._v("amountOut")]),t._v(", the quote's "),n("code",[t._v("Timestamp")]),t._v(",\nand the "),n("code",[t._v("TimerService")]),t._v(" the "),n("code",[t._v("TimeStamp")]),t._v(" is relative to.")])])]),t._v(" "),n("li",[n("code",[t._v("PriceDescription")]),t._v(" wrapped as a "),n("code",[t._v("QuoteAuthority")]),t._v(" issued payment.\n"),n("ul",[n("li",[t._v("This lets quotes be shared in a format letting others verify the time and values.")])])])]),t._v(" "),n("h2",{attrs:{id:"getquoteissuer-brandin-brandout"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#getquoteissuer-brandin-brandout"}},[t._v("#")]),t._v(" "),n("code",[t._v("getQuoteIssuer(brandIn, brandOut)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("brandIn")]),t._v(": "),n("code",[t._v("{ Brand }")])]),t._v(" "),n("li",[n("code",[t._v("brandOut")]),t._v(": "),n("code",[t._v("{ Brand }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Issuer | Promise<Issuer> }")])]),t._v(" "),n("li",[t._v("Gets the ERTP "),n("code",[t._v("Issuer")]),t._v(" of "),n("code",[t._v("PriceQuotes")]),t._v(" for a given "),n("code",[t._v("brandIn")]),t._v("/"),n("code",[t._v("brandOut")]),t._v("\npair.")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" quoteIssuer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getQuoteIssuer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    collateralKit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    loanKit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"gettimerservice-brandin-brandout"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gettimerservice-brandin-brandout"}},[t._v("#")]),t._v(" "),n("code",[t._v("getTimerService(brandIn, brandOut)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("brandIn")]),t._v(": "),n("code",[t._v("{ Brand }")])]),t._v(" "),n("li",[n("code",[t._v("brandOut")]),t._v(": "),n("code",[t._v("{ Brand }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ TimerService | Promise<TimerService> }")])]),t._v(" "),n("li",[t._v("Gets the timer used in "),n("code",[t._v("PriceQuotes")]),t._v(" for a given "),n("code",[t._v("brandIn")]),t._v("/"),n("code",[t._v("brandOut")]),t._v(" pair.")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myTimer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTimerService")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("collateral"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loanKit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"makequotenotifier-amountin-brandout"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#makequotenotifier-amountin-brandout"}},[t._v("#")]),t._v(" "),n("code",[t._v("makeQuoteNotifier(amountIn, brandOut)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("amountIn")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("brandOut")]),t._v(": "),n("code",[t._v("{ Brand }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ ERef<Notifier<PriceQuote>> }")])]),t._v(" "),n("li",[t._v("Be notified of the latest "),n("code",[t._v("PriceQuotes")]),t._v(" for a given "),n("code",[t._v("amountIn")]),t._v(". The issuing\nrate may be very different between "),n("code",[t._v("priceAuthorities")]),t._v(".")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myNotifier "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeQuoteNotifier")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("quatloos100"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" usdBrand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"quoteattime-deadline-amountin-brandout"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#quoteattime-deadline-amountin-brandout"}},[t._v("#")]),t._v(" "),n("code",[t._v("quoteAtTime(deadline, amountIn, brandOut)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("deadline")]),t._v(": "),n("code",[t._v("{ Timestamp }")])]),t._v(" "),n("li",[n("code",[t._v("amountIn")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("brandOut")]),t._v(": "),n("code",[t._v("{ Brand }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<PriceQuote> }")])]),t._v(" "),n("li",[t._v("Resolves after "),n("code",[t._v("deadline")]),t._v(" passes on the "),n("code",[t._v("priceAuthority")]),t._v("â€™s "),n("code",[t._v("timerService")]),t._v(" with the price\nquote of "),n("code",[t._v("amountIn")]),t._v(" at that time. Note that "),n("code",[t._v("deadline")]),t._v("'s value is a "),n("code",[t._v("BigInt")]),t._v(".")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" priceQuoteOnThisAtTime "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("quoteAtTime")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" quatloosAmount34"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" usdBrand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"quotegiven-amountin-brandout"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#quotegiven-amountin-brandout"}},[t._v("#")]),t._v(" "),n("code",[t._v("quoteGiven(amountIn, brandOut)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("amountIn")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("brandOut")]),t._v(": "),n("code",[t._v("{ Brand }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<PriceQuote> }")])]),t._v(" "),n("li",[t._v("Get a quote on demand corresponding to "),n("code",[t._v("amountIn")]),t._v(".")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" quote "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("quoteGiven")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moola500"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" quatloosBrand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"quotewanted-brandin-amountout"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#quotewanted-brandin-amountout"}},[t._v("#")]),t._v(" "),n("code",[t._v("quoteWanted(brandIn, amountOut)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("brandIn")]),t._v(": "),n("code",[t._v("{ Brand }")])]),t._v(" "),n("li",[n("code",[t._v("amountOut")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<PriceQuote> }")])]),t._v(" "),n("li",[t._v("Get a quote on demand corresponding to "),n("code",[t._v("amountOut")]),t._v(".")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" quote "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("quoteWanted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("quatloosBrand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" moola500"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"quotewhengt-amountin-amountoutlimit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#quotewhengt-amountin-amountoutlimit"}},[t._v("#")]),t._v(" "),n("code",[t._v("quoteWhenGT(amountIn, amountOutLimit)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("amountIn")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("amountOutLimit")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<PriceQuote> }")])]),t._v(" "),n("li",[t._v("Resolves when a price quote of "),n("code",[t._v("amountIn")]),t._v(" exceeds "),n("code",[t._v("amountOutLimit")]),t._v(".")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" quote "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("quoteWhenGT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("In"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("29n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("974n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"quotewhengte-amountin-amountoutlimit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#quotewhengte-amountin-amountoutlimit"}},[t._v("#")]),t._v(" "),n("code",[t._v("quoteWhenGTE(amountIn, amountOutLimit)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("amountIn")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("amountOutLimit")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<PriceQuote> }")])]),t._v(" "),n("li",[t._v("Resolves when a price quote of "),n("code",[t._v("amountIn")]),t._v(" reaches or exceeds "),n("code",[t._v("amountOutLimit")]),t._v(".")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" quote "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("quoteWhenGTE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("In"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("29n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("974n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"quotewhenlt-amountin-amountoutlimit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#quotewhenlt-amountin-amountoutlimit"}},[t._v("#")]),t._v(" "),n("code",[t._v("quoteWhenLT(amountIn, amountOutLimit)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("amountIn")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("amountOutLimit")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<PriceQuote> }")])]),t._v(" "),n("li",[t._v("Resolves when a price quote of "),n("code",[t._v("amountIn")]),t._v(" drops below "),n("code",[t._v("amountOutLimit")]),t._v(".")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" quote "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("quoteWhenLT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("In"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("29n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("974n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"quotewhenlte-amountin-amountoutlimit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#quotewhenlte-amountin-amountoutlimit"}},[t._v("#")]),t._v(" "),n("code",[t._v("quoteWhenLTE(amountIn, amountOutLimit)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("amountIn")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("amountOutLimit")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<PriceQuote> }")])]),t._v(" "),n("li",[t._v("Resolves when a price quote of "),n("code",[t._v("amountIn")]),t._v(" reaches or drops below\n"),n("code",[t._v("amountOutLimit")]),t._v(".")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" quote "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("quoteWhenLTE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("In"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("29n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("974n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"mutablequote-object"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mutablequote-object"}},[t._v("#")]),t._v(" "),n("code",[t._v("MutableQuote")]),t._v(" object")]),t._v(" "),n("p",[t._v("Use a "),n("code",[t._v("MutableQuote")]),t._v(" when you expect to make multiple calls, replacing the trigger\nvalue. If you just need a single quote, and won't change the trigger level, then use\na non-mutable quote.")]),t._v(" "),n("p",[t._v("There are four "),n("em",[t._v("mutable quote")]),t._v(" methods, which return a "),n("code",[t._v("MutableQuote")]),t._v(" object with the methods:")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("cancel(e)")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("e``{ String }")])]),t._v(" "),n("li",[t._v("Causes the "),n("code",[t._v("Promise")]),t._v(" to reject with the message "),n("code",[t._v("e")]),t._v(". When the promise is used with a "),n("code",[t._v("E.when()")]),t._v("\nthe message is part of the rejection notification.")])])]),t._v(" "),n("li",[n("code",[t._v("getPromise()")]),t._v(" "),n("ul",[n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<PriceQuote> }")])])])]),t._v(" "),n("li",[n("code",[t._v("updateLevel(newAmountIn, newAmountOutLimit)")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("newAmountIn")]),t._v(" "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("newAmountOutLimit")]),t._v(" "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[t._v("Changes the "),n("code",[t._v("MutableQuote")]),t._v("'s trigger levels to the specified values without requiring a second "),n("code",[t._v("Promise")]),t._v(".\n"),n("code",[t._v("newAmountIn")]),t._v(" and "),n("code",[t._v("newAmountOutLimit")]),t._v("'s brands must match the original "),n("code",[t._v("amountIn")]),t._v(" and "),n("code",[t._v("newAmountOutLimit")]),t._v("\nbrands respectively.")])])])]),t._v(" "),n("h2",{attrs:{id:"mutablequotewhengt-amountin-amountoutlimit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mutablequotewhengt-amountin-amountoutlimit"}},[t._v("#")]),t._v(" "),n("code",[t._v("mutableQuoteWhenGT(amountIn, amountOutLimit)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("amountIn")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("amountOutLimit")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<MutableQuote> }")])]),t._v(" "),n("li",[t._v("Resolves when a price quote of "),n("code",[t._v("amountIn")]),t._v(" exceeds "),n("code",[t._v("amountOutLimit")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" quote "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mutableQuoteWhenGT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("In"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("29n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("974n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"mutablequotewhengte-amountin-amountoutlimit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mutablequotewhengte-amountin-amountoutlimit"}},[t._v("#")]),t._v(" "),n("code",[t._v("mutableQuoteWhenGTE(amountIn, amountOutLimit)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("amountIn")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("amountOutLimit")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<MutableQuote> }")])]),t._v(" "),n("li",[t._v("Resolves when a price quote of "),n("code",[t._v("amountIn")]),t._v(" reaches or exceeds\n"),n("code",[t._v("amountOutLimit")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" quote "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mutableQuoteWhenGTE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("In"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("29n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("974n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"mutablequotewhenlt-amountin-amountoutlimit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mutablequotewhenlt-amountin-amountoutlimit"}},[t._v("#")]),t._v(" "),n("code",[t._v("mutableQuoteWhenLT(amountIn, amountOutLimit)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("amountIn")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("amountOutLimit")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<MutableQuote> }")])]),t._v(" "),n("li",[t._v("Resolves when a price quote of "),n("code",[t._v("amountIn")]),t._v(" drops below\n"),n("code",[t._v("amountOutLimit")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" quote "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mutableQuoteWhenLT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("In"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("29n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("974n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"mutablequotewhenlte-amountin-amountoutlimit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mutablequotewhenlte-amountin-amountoutlimit"}},[t._v("#")]),t._v(" "),n("code",[t._v("mutableQuoteWhenLTE(amountIn, amountOutLimit)")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("amountIn")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[n("code",[t._v("amountOutLimit")]),t._v(": "),n("code",[t._v("{ Amount }")])]),t._v(" "),n("li",[t._v("Returns: "),n("code",[t._v("{ Promise<MutableQuote> }")])]),t._v(" "),n("li",[t._v("Resolves when a price quote of "),n("code",[t._v("amountIn")]),t._v(" reaches or drops below\n"),n("code",[t._v("amountOutLimit")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" quote "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pAuthority"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mutableQuoteWhenLTE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("In"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("29n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    AmountMath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("brands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("974n")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);