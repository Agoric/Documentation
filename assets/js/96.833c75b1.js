(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{493:function(t,e,a){"use strict";a.r(e);var s=a(44),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"the-structure-of-offers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-structure-of-offers"}},[t._v("#")]),t._v(" The Structure of Offers")]),t._v(" "),a("Zoe-Version"),t._v(" "),a("h2",{attrs:{id:"making-an-offer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#making-an-offer"}},[t._v("#")]),t._v(" Making An offer")]),t._v(" "),a("p",[t._v("To make an offer, you use "),a("RouterLink",{attrs:{to:"/zoe/api/zoe.html#e-zoe-offer-invitation-proposal-paymentkeywordrecord-offerargs"}},[a("code",[t._v("E(zoe).offer()")])]),t._v(", which takes three arguments:")],1),t._v(" "),a("ul",[a("li",[t._v("An "),a("code",[t._v("invitation")]),t._v(" to participate in this contract instance.")]),t._v(" "),a("li",[t._v("A "),a("code",[t._v("proposal")]),t._v(" stating your offer conditions.")]),t._v(" "),a("li",[t._v("The "),a("code",[t._v("payments")]),t._v(" escrowed for the offer, each in association with a "),a("code",[t._v("proposal")]),t._v("-specified keyword.")])]),t._v(" "),a("h2",{attrs:{id:"invitations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#invitations"}},[t._v("#")]),t._v(" Invitations")]),t._v(" "),a("p",[a("code",[t._v("Invitations")]),t._v(" are a special case of ERTP "),a("code",[t._v("payments")]),t._v(". They are linked to a specific contract "),a("code",[t._v("instance")]),t._v(", and\nhaving one gives you the right to participate in that contract "),a("code",[t._v("instance")]),t._v(", for example, by making offers in it.")]),t._v(" "),a("p",[t._v("There are two main ways for contract users to get an "),a("code",[t._v("invitation")]),t._v(":")]),t._v(" "),a("ul",[a("li",[t._v("If you create the contract "),a("code",[t._v("instance")]),t._v(", you get a special creator "),a("code",[t._v("invitation")]),t._v(".")]),t._v(" "),a("li",[t._v("Someone (possibly you) who holds the right objects has created an "),a("code",[t._v("invitation")]),t._v(" for a contract "),a("code",[t._v("instance")]),t._v(" and gives it to\nyou in some way. This could've been by sending it to you, posting it on a public online location, etc. It\ndoesn't matter (nor does Zoe specify or have any requirements) how or why it got to you, only that you have it.")])]),t._v(" "),a("h2",{attrs:{id:"proposals"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#proposals"}},[t._v("#")]),t._v(" Proposals")]),t._v(" "),a("p",[t._v("Proposals are records with "),a("code",[t._v("give")]),t._v(", "),a("code",[t._v("want")]),t._v(", and "),a("code",[t._v("exit")]),t._v(" keys.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myProposal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("harden")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  give"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Asset"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" AmountMath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("quatloosBrand"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4n")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  want"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Price"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" AmountMath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moolaBrand"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15n")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  exit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'onDemand'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("code",[t._v("give")]),t._v(" and "),a("code",[t._v("want")]),t._v(" use keywords defined by the contract.\nKeywords are unique identifiers per contract, that tie together the proposal,\npayments to be escrowed, and payouts to the user.\nIn the example above, "),a("code",[t._v("Asset")]),t._v(" and "),a("code",[t._v("Price")]),t._v(" are the keywords. However, in an auction contract,\nthe keywords might be "),a("code",[t._v("Asset")]),t._v(" and "),a("code",[t._v("Bid")]),t._v(".")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("AmountMath.make(quatloosBrand, 4n)")]),t._v(" is just making an ERTP "),a("code",[t._v("amount")]),t._v(", or description of digital assets.\nIn this case, 4 of our imaginary Quatloos currency. "),a("code",[t._v("AmountMath.make(moolaBrand, 15n)")]),t._v(" is making\nan "),a("code",[t._v("amount")]),t._v(' of 15 of our imaginary Moola currency. (The appended "n" indicates that the numbers are\nrepresented as '),a("code",[t._v("BigInts")]),t._v(" rather than "),a("code",[t._v("Numbers")]),t._v(")")]),t._v(" "),a("p",[a("strong",[t._v("Note")]),t._v(": It's important to understand that "),a("code",[t._v("amounts")]),t._v(" are just descriptions of assets with no\nintrinsic value. "),a("code",[t._v("payments")]),t._v(" hold actual digital assets.")]),t._v(" "),a("p",[a("code",[t._v("exit")]),t._v(" determines how an offer can be can cancelled:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("'onDemand'")]),t._v(": (Default) Whenever the user wants.")]),t._v(" "),a("li",[a("code",[t._v("'waived'")]),t._v(": The user cannot cancel, relying on the contract to finish the offer.")]),t._v(" "),a("li",[a("code",[t._v("'afterDeadline'")]),t._v(": Cancelled automatically after a deadline. This requires two\nmore properties, a "),a("code",[t._v("timer")]),t._v(" object and a deadline BigInt value.")])]),t._v(" "),a("h2",{attrs:{id:"escrowed-payments"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#escrowed-payments"}},[t._v("#")]),t._v(" Escrowed Payments")]),t._v(" "),a("p",[t._v("Using the same keywords as your "),a("code",[t._v("proposal")]),t._v(", you must specify a "),a("code",[t._v("PaymentKeywordRecord")]),t._v(".\nThis is a record with the keywords as keys, and "),a("code",[t._v("payments")]),t._v(" containing digital assets as\nvalues. Zoe escrows these "),a("code",[t._v("payments")]),t._v(" on behalf of this offer until the offer is completed\nor rejected or the assets are reassigned to another offer.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" paymentKeywordRecord "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Asset'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" quatloosPayment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Price'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" moolaPayment \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"returned-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#returned-value"}},[t._v("#")]),t._v(" Returned Value")]),t._v(" "),a("p",[a("code",[t._v("offer()")]),t._v(" returns a "),a("code",[t._v("UserSeat")]),t._v(' object. Its name comes from the concept of "having a seat at the table"\nfor the contract\'s execution.')])],1)}),[],!1,null,null,null);e.default=n.exports}}]);