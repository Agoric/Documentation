<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Introduction to Zoe | Alpha</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/documentation/favicon-full.ico">
    <style type="text/css">
    .two-col-table td {
        width: 50%;
    }
    .two-col-table table {
        table-layout: fixed;
    }</style>
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-118217811-1"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-118217811-1'); </script>
    <script>
    const logoUrlChanger = setInterval(function() {
    //Anchor above the logo image
    const homeEls = document.getElementsByClassName("home-link");
    if(homeEls.length > 0) {
      const homeEl = homeEls[0];
      homeEl.setAttribute("href", "https://agoric.com");
      homeEl.setAttribute("onclick", "return false;");
      clearInterval(logoUrlChanger);
    }

    //Actual logo image
    const logoEls = document.getElementsByClassName("logo")
    if(logoEls.length > 0) {
      const logoEl = logoEls[0]
      logoEl.setAttribute("onclick", "document.location='https://agoric.com';return false;");
      clearInterval(logoUrlChanger);
    }
   }, 1000) </script>
    <meta name="description" content="Build, deploy and operate dApps and DeFi markets.">
    <link rel="preload" href="/documentation/assets/css/0.styles.ca7d8779.css" as="style"><link rel="preload" href="/documentation/assets/js/app.0486f4a9.js" as="script"><link rel="preload" href="/documentation/assets/js/2.071d448b.js" as="script"><link rel="preload" href="/documentation/assets/js/34.f11b507f.js" as="script"><link rel="prefetch" href="/documentation/assets/js/10.cbfd240b.js"><link rel="prefetch" href="/documentation/assets/js/11.5f31e44b.js"><link rel="prefetch" href="/documentation/assets/js/12.a23b7f32.js"><link rel="prefetch" href="/documentation/assets/js/13.4dae3fa3.js"><link rel="prefetch" href="/documentation/assets/js/14.7d6528ff.js"><link rel="prefetch" href="/documentation/assets/js/15.e8f7e3d8.js"><link rel="prefetch" href="/documentation/assets/js/16.5782d19b.js"><link rel="prefetch" href="/documentation/assets/js/17.e3c9d3fd.js"><link rel="prefetch" href="/documentation/assets/js/18.65e87057.js"><link rel="prefetch" href="/documentation/assets/js/19.f97458e8.js"><link rel="prefetch" href="/documentation/assets/js/20.4f9bb3e5.js"><link rel="prefetch" href="/documentation/assets/js/21.adcab057.js"><link rel="prefetch" href="/documentation/assets/js/22.14e5ca5e.js"><link rel="prefetch" href="/documentation/assets/js/23.a74674aa.js"><link rel="prefetch" href="/documentation/assets/js/24.b6a69316.js"><link rel="prefetch" href="/documentation/assets/js/25.7bb48ff5.js"><link rel="prefetch" href="/documentation/assets/js/26.d2d80138.js"><link rel="prefetch" href="/documentation/assets/js/27.77b1cc63.js"><link rel="prefetch" href="/documentation/assets/js/28.6179be2d.js"><link rel="prefetch" href="/documentation/assets/js/29.25a93b15.js"><link rel="prefetch" href="/documentation/assets/js/3.ce7f9d58.js"><link rel="prefetch" href="/documentation/assets/js/30.0566d995.js"><link rel="prefetch" href="/documentation/assets/js/31.23aef4fe.js"><link rel="prefetch" href="/documentation/assets/js/32.2f710e61.js"><link rel="prefetch" href="/documentation/assets/js/33.6063da61.js"><link rel="prefetch" href="/documentation/assets/js/35.f19b96f3.js"><link rel="prefetch" href="/documentation/assets/js/36.2c370e13.js"><link rel="prefetch" href="/documentation/assets/js/37.0fc26d51.js"><link rel="prefetch" href="/documentation/assets/js/38.8ffb04c5.js"><link rel="prefetch" href="/documentation/assets/js/39.5fcbb028.js"><link rel="prefetch" href="/documentation/assets/js/4.c2749dcc.js"><link rel="prefetch" href="/documentation/assets/js/40.cf6a8978.js"><link rel="prefetch" href="/documentation/assets/js/41.d3c7a4b4.js"><link rel="prefetch" href="/documentation/assets/js/42.0a6cafc6.js"><link rel="prefetch" href="/documentation/assets/js/43.fff43de7.js"><link rel="prefetch" href="/documentation/assets/js/44.d8d54c9a.js"><link rel="prefetch" href="/documentation/assets/js/45.eb2287ab.js"><link rel="prefetch" href="/documentation/assets/js/46.eb58df96.js"><link rel="prefetch" href="/documentation/assets/js/47.5c3fbf12.js"><link rel="prefetch" href="/documentation/assets/js/48.8592bdee.js"><link rel="prefetch" href="/documentation/assets/js/49.d04cd639.js"><link rel="prefetch" href="/documentation/assets/js/5.336500d8.js"><link rel="prefetch" href="/documentation/assets/js/50.d8b7db81.js"><link rel="prefetch" href="/documentation/assets/js/51.939a2169.js"><link rel="prefetch" href="/documentation/assets/js/52.3b2f1291.js"><link rel="prefetch" href="/documentation/assets/js/53.c8836112.js"><link rel="prefetch" href="/documentation/assets/js/54.b2b7d959.js"><link rel="prefetch" href="/documentation/assets/js/55.22563800.js"><link rel="prefetch" href="/documentation/assets/js/56.b378f0fb.js"><link rel="prefetch" href="/documentation/assets/js/57.e3d5b1ce.js"><link rel="prefetch" href="/documentation/assets/js/58.df1fe7ae.js"><link rel="prefetch" href="/documentation/assets/js/6.ee70e69b.js"><link rel="prefetch" href="/documentation/assets/js/7.0c451858.js"><link rel="prefetch" href="/documentation/assets/js/8.6d2eb4c9.js"><link rel="prefetch" href="/documentation/assets/js/9.b066cd27.js">
    <link rel="stylesheet" href="/documentation/assets/css/0.styles.ca7d8779.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/documentation/" class="home-link router-link-active"><img src="/documentation/logo.svg" alt="Alpha" class="logo"> <span class="site-name can-hide">Alpha</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Getting Started Menu" class="dropdown-title"><span class="title">Getting Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Getting Started Menu" class="mobile-dropdown-title"><span class="title">Getting Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link router-link-active">
  Documentation Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/before-using-agoric.html" class="nav-link">
  Before Using Agoric
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/start-a-project.html" class="nav-link">
  Starting a Project
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/development-cycle.html" class="nav-link">
  Development Cycle
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/deploying.html" class="nav-link">
  Deploying Smart Contracts
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction.html" class="nav-link">
  ERTP Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Zoe Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide.html" class="nav-link">
  Agoric CLI Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/alpha.html" class="nav-link">
  Agoric Alpha
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link router-link-active">
  Documentation
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide/" class="nav-link">
  Agoric CLI
</a></li><li class="dropdown-item"><!----> <a href="/documentation/dapps/" class="nav-link">
  Agoric Dapps
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">
  ERTP
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">
  Zoe
</a></li><li class="dropdown-item"><!----> <a href="/documentation/wallet-api.html" class="nav-link">
  Wallet API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/blob/master/packages/SwingSet/docs/networking.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dynamic IBC (dIBC)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/documentation/distributed-programming.html" class="nav-link">
  JS Distributed Programming
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Zoe Menu" class="dropdown-title"><span class="title">Zoe</span> <span class="arrow down"></span></button> <button type="button" aria-label="Zoe Menu" class="mobile-dropdown-title"><span class="title">Zoe</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/contracts/autoswap.html" class="nav-link">
  Contracts
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/zoe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ERTP Menu" class="dropdown-title"><span class="title">ERTP</span> <span class="arrow down"></span></button> <button type="button" aria-label="ERTP Menu" class="mobile-dropdown-title"><span class="title">ERTP</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction/" class="nav-link">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/ERTP" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Platform Menu" class="dropdown-title"><span class="title">Platform</span> <span class="arrow down"></span></button> <button type="button" aria-label="Platform Menu" class="mobile-dropdown-title"><span class="title">Platform</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/platform/" class="nav-link">
  Agoric Stack
</a></li></ul></div></div><div class="nav-item"><a href="/documentation/glossary/" class="nav-link">
  Glossary
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn More Menu" class="dropdown-title"><span class="title">Learn More</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn More Menu" class="mobile-dropdown-title"><span class="title">Learn More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://agoric.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Agoric
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://agoric.com/papers/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Papers
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Getting Started Menu" class="dropdown-title"><span class="title">Getting Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Getting Started Menu" class="mobile-dropdown-title"><span class="title">Getting Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link router-link-active">
  Documentation Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/before-using-agoric.html" class="nav-link">
  Before Using Agoric
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/start-a-project.html" class="nav-link">
  Starting a Project
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/development-cycle.html" class="nav-link">
  Development Cycle
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/deploying.html" class="nav-link">
  Deploying Smart Contracts
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction.html" class="nav-link">
  ERTP Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Zoe Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide.html" class="nav-link">
  Agoric CLI Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/alpha.html" class="nav-link">
  Agoric Alpha
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link router-link-active">
  Documentation
</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide/" class="nav-link">
  Agoric CLI
</a></li><li class="dropdown-item"><!----> <a href="/documentation/dapps/" class="nav-link">
  Agoric Dapps
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">
  ERTP
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">
  Zoe
</a></li><li class="dropdown-item"><!----> <a href="/documentation/wallet-api.html" class="nav-link">
  Wallet API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/blob/master/packages/SwingSet/docs/networking.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dynamic IBC (dIBC)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/documentation/distributed-programming.html" class="nav-link">
  JS Distributed Programming
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Zoe Menu" class="dropdown-title"><span class="title">Zoe</span> <span class="arrow down"></span></button> <button type="button" aria-label="Zoe Menu" class="mobile-dropdown-title"><span class="title">Zoe</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/contracts/autoswap.html" class="nav-link">
  Contracts
</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/zoe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ERTP Menu" class="dropdown-title"><span class="title">ERTP</span> <span class="arrow down"></span></button> <button type="button" aria-label="ERTP Menu" class="mobile-dropdown-title"><span class="title">ERTP</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction/" class="nav-link">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/ERTP" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Platform Menu" class="dropdown-title"><span class="title">Platform</span> <span class="arrow down"></span></button> <button type="button" aria-label="Platform Menu" class="mobile-dropdown-title"><span class="title">Platform</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/platform/" class="nav-link">
  Agoric Stack
</a></li></ul></div></div><div class="nav-item"><a href="/documentation/glossary/" class="nav-link">
  Glossary
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn More Menu" class="dropdown-title"><span class="title">Learn More</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn More Menu" class="mobile-dropdown-title"><span class="title">Learn More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://agoric.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Agoric
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://agoric.com/papers/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Papers
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/documentation/getting-started/alpha.html" class="sidebar-link">Agoric Alpha</a></li><li><a href="/documentation/getting-started/" aria-current="page" class="sidebar-link">Documentation Guide</a></li><li><a href="/documentation/getting-started/before-using-agoric.html" class="sidebar-link">Before Using Agoric</a></li><li><a href="/documentation/getting-started/start-a-project.html" class="sidebar-link">Starting A Project</a></li><li><a href="/documentation/getting-started/development-cycle.html" class="sidebar-link">Development Cycle</a></li><li><a href="/documentation/getting-started/deploying.html" class="sidebar-link">Deploying Smart Contracts</a></li><li><a href="/documentation/getting-started/ertp-introduction.html" class="sidebar-link">ERTP Introduction</a></li><li><a href="/documentation/getting-started/intro-zoe.html" aria-current="page" class="active sidebar-link">Zoe Introduction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documentation/getting-started/intro-zoe.html#what-is-zoe" class="sidebar-link">What is Zoe?</a></li><li class="sidebar-sub-header"><a href="/documentation/getting-started/intro-zoe.html#the-simple-atomic-swap-contract" class="sidebar-link">The simple Atomic Swap contract</a></li><li class="sidebar-sub-header"><a href="/documentation/getting-started/intro-zoe.html#installing-and-instantiating-contracts-on-zoe" class="sidebar-link">Installing and instantiating contracts on Zoe</a></li><li class="sidebar-sub-header"><a href="/documentation/getting-started/intro-zoe.html#invitations" class="sidebar-link">Invitations</a></li><li class="sidebar-sub-header"><a href="/documentation/getting-started/intro-zoe.html#offers" class="sidebar-link">Offers</a></li><li class="sidebar-sub-header"><a href="/documentation/getting-started/intro-zoe.html#satisfying-and-completing-offers" class="sidebar-link">Satisfying and completing offers</a></li><li class="sidebar-sub-header"><a href="/documentation/getting-started/intro-zoe.html#auction-example" class="sidebar-link">Auction example</a></li><li class="sidebar-sub-header"><a href="/documentation/getting-started/intro-zoe.html#other-things-to-know-about-zoe" class="sidebar-link">Other things to know about Zoe</a></li><li class="sidebar-sub-header"><a href="/documentation/getting-started/intro-zoe.html#workflow-summary" class="sidebar-link">Workflow summary</a></li><li class="sidebar-sub-header"><a href="/documentation/getting-started/intro-zoe.html#next-steps" class="sidebar-link">Next steps</a></li></ul></li><li><a href="/documentation/getting-started/agoric-cli-guide.html" class="sidebar-link">Agoric CLI Guide</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="introduction-to-zoe"><a href="#introduction-to-zoe" class="header-anchor">#</a> Introduction to Zoe</h1> <p><strong>Note:</strong> Before reading this, you should be familiar with <a href="/documentation/getting-started/ertp-introduction/">ERTP basics</a>.</p> <div class="custom-block tip"><p class="custom-block-title">Alpha status</p> <p>Zoe is currently at Alpha status. It has not yet been
formally tested or hardened. It is not yet of production quality.</p></div> <p>This is an introduction to Zoe, Agoric's smart contract framework.
The <a href="/documentation/zoe/guide/">Zoe Guide</a> has additional information,
including concepts not covered here.</p> <p>You can run different types of smart contracts on Zoe. In this document,
for the most part we focus on Agoric’s Atomic Swap demo contract, but
sometimes refer to how Zoe works with other contract types.</p> <h2 id="what-is-zoe"><a href="#what-is-zoe" class="header-anchor">#</a> What is Zoe?</h2> <p><strong>For users</strong>: Zoe guarantees smart contract users either get what
they wanted or get a full refund. Even if the smart contract is buggy or malicious.</p> <p><strong>For developers</strong>: Zoe is a framework for writing and running smart contracts.
It provides a safety net so you can focus on what your smart contract does best,
without worrying about users losing their assets due to a bug in your code.</p> <p>Many contracts are installed on Zoe, including <a href="https://agoric.com/documentation/zoe/guide/contracts/" target="_blank" rel="noopener noreferrer">several Agoric-written ones<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
to help get you started.</p> <h2 id="the-simple-atomic-swap-contract"><a href="#the-simple-atomic-swap-contract" class="header-anchor">#</a> The simple Atomic Swap contract</h2> <p>In this document, we’ll mostly be looking at Agoric’s <a href="https://agoric.com/documentation/zoe/guide/contracts/atomic-swap.html" target="_blank" rel="noopener noreferrer">Atomic Swap contract<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to illustrate how contracts use Zoe.</p> <p>Atomic Swap has two users swapping for each other’s assets. We’ll
try to let you know when aspects of the contract are specific to
a basic swap operation. Other types of contracts, such as auctions, may do
things differently.</p> <p>The annotated code for our example is <a href="https://agoric.com/documentation/zoe/guide/contracts/atomic-swap.html" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
The source code is <a href="https://github.com/Agoric/agoric-sdk/blob/master/packages/zoe/src/contracts/atomicSwap.js" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
Tests are <a href="https://github.com/Agoric/agoric-sdk/blob/master/packages/zoe/test/unitTests/contracts/test-atomicSwap.js" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. The tests have two “characters”, Alice, who makes the initial offer, and Bob, who responds to that offer.</p> <h2 id="installing-and-instantiating-contracts-on-zoe"><a href="#installing-and-instantiating-contracts-on-zoe" class="header-anchor">#</a> Installing and instantiating contracts on Zoe</h2> <p>To use a contract, it needs to be <em>installed</em> on Zoe. This is putting
the contract’s source code, consisting of JavaScript plus ERTP and Zoe API
methods, on Zoe.</p> <p>When you install a contract on Zoe, you receive an <code>installation</code>, which
is an <em>opaque JavaScript object</em>  used to refer to the installed contract
source code. Agoric uses such objects as references since they cannot be
forged. For example</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bundleSource takes source code files and </span>
<span class="token comment">// bundles them together in the format install expects.</span>
<span class="token keyword">import</span> bundleSource <span class="token keyword">from</span> <span class="token string">'@agoric/bundle-source'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bundle <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">bundleSource</span><span class="token punctuation">(</span><span class="token function">pathResolve</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./src/contract.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> installationP <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>To actually use a contract, you have to <em>instantiate</em> it by
calling <code>E(zoe).startInstance(installation, issuerKeywordRecord, terms)</code>.
Multiple <em>instances</em> of any Zoe-installed contract can execute simultaneously.
For clarity, in our documentation a <em>contract</em> is the installed code that
defines how the contract works. A <em>contract instance</em> or <em>instance</em> is an active
execution of the contract code.</p> <p>For example, let’s say a realtor has a standard agreement they use when selling
a client’s house. The contract would be the code that defines how that standard
agreement works. Every time the realtor has a new house to sell, they instantiate
a new instance of their standard contract to use for that specific property. If
they have ten houses up for sale, they have ten different contract instances.</p> <p>In addition to an <code>installation</code>, when a contract is instantiated, Zoe needs to
know what kind of ERTP assets the contract will work with. In Atomic Swap’s test
code, the full instantiation call is something like:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> issuerKeywordRecord <span class="token operator">=</span> <span class="token function">harden</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  Asset<span class="token operator">:</span> quatloosKit<span class="token punctuation">.</span>issuer<span class="token punctuation">,</span>
  Price<span class="token operator">:</span> moolaKit<span class="token punctuation">.</span>issuer<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> atomicSwapInstance <span class="token operator">=</span> zoe<span class="token punctuation">.</span><span class="token function">startInstance</span><span class="token punctuation">(</span>installation<span class="token punctuation">,</span> issuerKeywordRecord<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Let’s work backwards from <code>startInstance()</code>’s arguments. As you’ll recall
from the <a href="https://agoric.com/documentation/getting-started/ertp-introduction.html#issuers-and-mints" target="_blank" rel="noopener noreferrer">Introduction to ERTP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
<code>issuers</code> map minted assets to <code>purses</code> and <code>payments</code>. The <em>keyword record</em> is
made up of two key:value pairs. The key names must be ASCII and capitalized;
they are the same names as are used in the contract code.</p> <p>In this case the key name <code>Price</code> is for what the seller wants, and key name <code>Asset</code> is for
what is being sold. <code>Price</code> is for what will be swapped for it (from the perspective
of the user making the instance; it’d be the opposite for someone who wanted what Alice is offering).
The price is denominated in the imaginary currency Moola, so that keyword needs the
Moola <code>Issuer</code> associated with it. The asset is denominated in the imaginary currency
Quatloos, so that keyword needs the Quatloo <code>Issuer</code> as its value.</p> <p>Finally, <code>E(zoe).startInstance()</code> can take an optional <code>terms</code> argument, another
set of key:value pairs. Terms let an <code>instance</code> creator further
customize the contract operations, as enabled by the contract code.
Contract terms can be expressed without specific values. For example,
an auction contract may define minimum bid and minimum raise variables
and use them in its code, but the variables are not given values in the
code. Instead, the <code>terms</code> argument provides the variables’ values.</p> <p>Why parameterize a contract with terms? Well, the minimum raise should be
quite different if an auction is for a used Harry Potter paperback vs. a
signed first British hardback edition of <em>Harry Potter and the Philosopher’s
Stone</em>. The <code>terms</code> value for the used paperback auction might
be <code>{ Currency: 'USDollar', MinRaise: 1 }</code>. For the first edition
auction, <code>terms</code>’ value might be  <code>{ Currency: 'USDollar', MinRaise: 500 }</code>.
With the different <code>terms</code> values, there are now contract instances
customized for the items being sold in each one.</p> <h2 id="invitations"><a href="#invitations" class="header-anchor">#</a> Invitations</h2> <p><code>E(zoe).startInstance()</code> returns an <em>invitation</em> to that new <code>instance</code>.
An <code>invitation</code> is an <a href="https://agoric.com/documentation/getting-started/ertp-introduction.html#creating-assets-with-ertp" target="_blank" rel="noopener noreferrer">ERTP <code>payment</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
that lets its holder interact with that specific contract instance. If there
are ten instances of a contract running and you hold an <code>invitation</code> to, say,
the earliest created one, that’s the only one the <code>invitation</code> works with.
It doesn’t work with any of the nine later created <code>instances</code>.</p> <p>And while whoever instantiated the contract gets the initial <code>invitation</code>
to that <code>instance</code>, as with all <code>invitations</code>, they can transfer it to
another party before it’s used. Who created or first held an <code>invitation</code>
doesn’t matter. Whoever possesses an <code>invitation</code> has control and use of it.</p> <p>Users obtain an <code>invitation</code> to an <code>instance</code> in one (or more) of three ways:</p> <ul><li>Instantiate a contract, which returns an <code>invitation</code> object for that <code>instance</code>.</li> <li>Receive an <code>invitation</code> from someone who already had it.
<ul><li>Note: Finding other parties to invite is out of Zoe or the contract’s scope
in most cases. You have to either already know of potential other parties,
for example, from past experience trading with them, or communicate
somewhere outside the contract to find them.</li></ul></li> <li>By the <code>instance</code>, or someone with the authority to issue <code>invitations</code> for
it, making open knowledge what’s needed to get a valid <code>invitation</code>. For example,
an open exchange contract with an order book might welcome everyone who wants
to participate, and so would make public how to get an <code>invitation</code> to it.</li></ul> <p><code>Invitations</code> are ERTP <code>payments</code>, so the same principles apply to them as
apply to other ERTP <code>payments</code>. You can send the same <code>payment</code> or <code>invitation</code>
to multiple parties...but when a party <em>claims</em> the <code>payment</code>/<code>invitation</code>,
the other copies of the <code>payment/invitation</code> are dead. The claimant gets
a new <code>payment/invitation</code> they can be sure was issued by the desired <code>issuer</code>,</p> <p><code>Invitations</code> are single use objects. Once used, an <code>invitation</code> is destroyed or <em>burned</em>.
If someone shared a valid <code>invitation</code> with many parties, only the first one to be used
would work; any attempts to use that <code>invitation</code> after it’s been used fail. Note that this
is different from making multiple distinct <code>invitations</code> for an <code>instance</code>; that’s expected.</p> <h2 id="offers"><a href="#offers" class="header-anchor">#</a> Offers</h2> <p>Alice decides she wants to use her invite and make an <em>offer</em>. Before making an offer, an invite is all about <em>potentially</em> working with its associated contract instance. But the invite might never be used, and if so, it never actually interacts with the contract instance.</p> <p>Before making her offer, Alice has to do some prep work. Her offer will be <em>escrowed</em> with Zoe, so it needs to include the actual ERTP payments for the offer, and a <em>proposal</em> that defines the offer and is used to enforce both <em>offer safety</em> and <em>payout liveness</em>.  In code, it looks like:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> quatloos100 <span class="token operator">=</span> quatloosAmountMath<span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> moola25 <span class="token operator">=</span> moolaAmountMath<span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> aliceProposal <span class="token operator">=</span> <span class="token function">harden</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  give<span class="token operator">:</span> <span class="token punctuation">{</span> Asset<span class="token operator">:</span> quatloos100 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  want<span class="token operator">:</span> <span class="token punctuation">{</span> Price<span class="token operator">:</span> moola25 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  exit<span class="token operator">:</span> <span class="token punctuation">{</span> onDemand<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Const alicePayments <span class="token operator">=</span> <span class="token punctuation">{</span> Asset<span class="token operator">:</span> aliceQuatloosPayment <span class="token punctuation">}</span>
</code></pre></div><p><code>AmountMath</code> is an <a href="https://agoric.com/documentation/ertp/guide/amount-math.html" target="_blank" rel="noopener noreferrer">ERTP API object <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> whose methods manipulate asset
and payment <code>amounts</code>. Here, Alice is setting up the ability to use the Quatloos and Moola currencies. Note the the <code>amounts</code> are
just descriptions of assets, and not the actual assets. The actual assets are contained in ERTP <code>purses</code> and <code>payments</code>, not <code>amounts</code>.</p> <p>She then creates her proposal, using a record with <code>give</code>, <code>want</code>, and <code>exit</code> (optional) properties. <code>give</code> and <code>want</code> are <code>KeywordAmount</code> records with
keywords as keys and <code>amounts</code> as values. <code>exit</code> is an <code>ExitRule</code> record specifying how/when a user can exit the contract. In the above,
Alice wants at least 25 Moola, in exchange for giving at most 100 Quatloos, where she can exit the offer at any time just by
asking, and get her assets back (or get her <code>want</code> value if the offer happened to be satisfied before then).</p> <p>The <code>harden()</code> command is how we build a defensible API surface around an object by freezing all reachable properties. It’s similar,
but not identical, to JavaScript’s <code>Object.freeze</code>. For more information on <code>harden</code>, see <a href="https://www.npmjs.com/package/@agoric/harden#background-why-do-we-need-to-harden-objects" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Now, Alice is ready to use her <code>invitation</code>, <code>proposal</code>, and <code>payment</code> to make an offer and participate in the Atomic Swap
contract <code>instance</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> userSeat <span class="token operator">=</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span>
  aliceInvite<span class="token punctuation">,</span>
  aliceProposal<span class="token punctuation">,</span>
  alicePayments<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> outcome <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>userSeat<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOfferResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> payouts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>userSeat<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPayouts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Zoe checks the invitation for its validity for that contract instance. When
she makes her offer, Alice receives a (promise for) a <code>UserSeat</code> that lets
her monitor or control her offer. This includes getting payouts or offer results,
or exiting the offer altogether. If her offer was invalid, the
offer attempt fails, and Alice gets her refund in the <em>payout</em>. If the
offer is valid, it's now an <em>active offer</em>.</p> <p>Now, Alice needs to get someone else involved who potentially will also
make an offer, hopefully one that offers what she wants for
the price she’s willing to pay for it. The <em>offer result</em> is the object
returned by the contract when it processes an offer. In the case of
atomicSwap, it used <em>zcf.makeInvitation()</em> to make and return an invitation Alice can
send to others, in this case Bob.</p> <p><code>zcf.makeInvitation()</code> takes two required arguments and one optional:</p> <ul><li><code>offerHandler</code>: A function defined in the contract code that processes offers as the contract developer sees fit.</li> <li><code>description</code>: A <code>String</code> that should include whatever information is needed for a recipient to know what
they are getting in the optional <code>customProperties</code> argument.</li> <li><code>customProperties</code>: Optional, any special properties to be included in this <code>invitation</code>.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> bobInvitation <span class="token operator">=</span> zcf<span class="token punctuation">.</span><span class="token function">makeInvitation</span><span class="token punctuation">(</span>swapOfferHandler<span class="token punctuation">,</span> atomicSwapDescription<span class="token punctuation">)</span>

<span class="token comment">// Bob claims the invitation via the permanent Zoe inviteIssuer. The claim operation</span>
<span class="token comment">// also validates the invitation for this contract instance.</span>
<span class="token keyword">const</span> inviteIssuer <span class="token operator">=</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInviteIssuer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bobExclusiveInvitation <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>inviteIssuer<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">claim</span><span class="token punctuation">(</span>bobInvitation<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Bob decides to make his own offer, which happens to match up with Alice’s offer (assume his payments were constructed similar to Alice’s);</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> bobProposal <span class="token operator">=</span> <span class="token function">harden</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  want<span class="token operator">:</span> <span class="token punctuation">{</span> Asset<span class="token operator">:</span> quatloos100 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  give<span class="token operator">:</span> <span class="token punctuation">{</span> Price<span class="token operator">:</span> moola25 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  exit<span class="token operator">:</span> <span class="token punctuation">{</span> onDemand<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Bob escrows with zoe and makes an offer</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> outcome<span class="token operator">:</span> bobOfferResult<span class="token punctuation">,</span> payout<span class="token operator">:</span> bobPayoutP <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span>
  bobExclusiveInvitation<span class="token punctuation">,</span>
  bobProposal<span class="token punctuation">,</span>
  bobPayments<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Bob has gotten back a <em>promise</em> for a <em>payout</em>. His offer is also now an <em>active offer</em>.</p> <h2 id="satisfying-and-completing-offers"><a href="#satisfying-and-completing-offers" class="header-anchor">#</a> Satisfying and completing offers</h2> <p>At this point, both the offers that Alice and Bob made are active and known to the contract instance. The Atomic Swap contract
code determines that they are matching offers.  The contract instance calls <code>reallocate()</code>, which <em>reallocates</em> the amounts which
are the accounting records within Zoe. Payouts are not created yet.</p> <p>The contract instance then <em>exits</em> the offers and makes the payouts to
the offer holders.  This takes the amounts from the account records, and withdraws the offer-specified amounts from the
digital assets escrowed within Zoe. This is when
the payout <em>promise</em> resolves into payments.</p> <p>The offers are now exited and no longer active. There is nothing more that can be done with them, so Zoe deletes these
offers from the contract instance.</p> <h2 id="auction-example"><a href="#auction-example" class="header-anchor">#</a> Auction example</h2> <p>Let’s look at a more complicated example: an auction, where many users
might make a bid for something, but only one bid will win the
auction. Assuming everything validated, Zoe would give the holder of
the auctioned item the escrowed assets from the winning bid, and give
the holder of the winning bid what they wanted, the asset up for bid.</p> <p>But what about all those other bidders who escrowed their bids with Zoe
and didn’t win? Zoe guarantees they all get a <em>refund</em> of their escrowed assets.
Zoe’s <em>offer safety</em> guarantees offer makers either get what they wanted or
get refunded whatever they put in Zoe’s escrow with their offer.</p> <p>It’s even possible to get both what you wanted, and at least a partial refund.
Consider an auction where you make a bid where you’re willing to pay up to 10
Quatloos (an imaginary currency), but if you can win for less, that’s your bid.
You win the auction, but your winning bid is only 8 Quatloos. The payout would
resolve to both the item up for auction you get as the winning bidder and the
refund of the 2 extra Quatloos you escrowed in your bid.</p> <h2 id="other-things-to-know-about-zoe"><a href="#other-things-to-know-about-zoe" class="header-anchor">#</a> Other things to know about Zoe</h2> <p>A <em>Dapp (decentralized application)</em> is a combination of a Zoe contract and
a server that’s running the back and front ends, and a front end that may be
connected to the user’s wallet.</p> <p>Zoe has two distinct APIs. One is the widely accessible, singular Zoe service object
that smart contract clients use to provide offers and otherwise interface with contracts.
The Zoe service object is a remote object, and so should be accessed with <code>E(zoe).&lt;api_method&gt;</code>,
which returns a <code>promise</code>. For more on E()
see <a href="https://agoric.com/documentation/distributed-programming.html#communicating-with-remote-objects-via-e" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>The other is the internal API object, referred to as <code>zcf</code> that each <code>instance</code> uses to
interact with Zoe about that contract’s own offers and state (e.g., to
do <code>reallocate</code>).</p> <p>Finally, there are also Zoe Helpers, functions that extract common contract code and patterns into reusable helpers.</p> <p>For details about all three APIs and their methods, see the <a href="https://agoric.com/documentation/zoe/api/" target="_blank" rel="noopener noreferrer">Zoe API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> documentation.</p> <h2 id="workflow-summary"><a href="#workflow-summary" class="header-anchor">#</a> Workflow summary</h2> <p>The following table summarizes an Atomic Swap workflow:</p> <table><tbody><tr><td><center>1</center></td> <td>Write your contract
</td></tr> <tr><td><center>2</center></td> <td>Install your contract’s source code on Zoe. 
</td></tr> <tr><td><center>3</center></td> <td>Start a contract instance based on an installed contract. 
</td></tr> <tr><td colspan="2">At this point, everything is installed and set up and you’ve got a contract instance. The following rows cover what happens while
the Atomic Swap contract instance is active.
</td></tr><tr></tr><tr><td><center>1</center></td> <td>A holder of an invitation to this contract instance uses it to get a seat. The assets used in the offer are escrowed with Zoe.
</td></tr> <tr><td><center>2</center></td> <td>Likely via means outside of the contract, invitations are distributed to potential users of this contract instance).</td></tr> <tr><td><center>3</center></td> <td>Recipients use the InviteIssuer to claim and validate their invitation.
</td></tr> <tr><td><center>4</center></td> <td>Invitation holders make their offers.
</td></tr> <tr><td><center>5</center></td> <td>The contract code processes the offers, which may request some reallocations as a result.</td></tr> <tr><td><center>6</center></td> <td>Zoe reallocates the assets among the offers, preserving offer safety.
</td></tr> <tr><td><center>7</center></td> <td>The contract requests Zoe process the satisfied offers, resolving their associated payout promises. Offer holders either get what they paid for, get their escrowed offer amount refunded, or in some cases, get both what they paid for and a refund of any overpayment.
</td></tr></tbody></table> <h2 id="next-steps"><a href="#next-steps" class="header-anchor">#</a> Next steps</h2> <p>If you want to dive deeper into how Zoe works and what you can do, go to the <a href="https://agoric.com/documentation/zoe/guide/#what-is-zoe" target="_blank" rel="noopener noreferrer">Zoe Guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/documentation/getting-started/ertp-introduction.html" class="prev">
        ERTP Introduction
      </a></span> <span class="next"><a href="/documentation/getting-started/agoric-cli-guide.html">
        Agoric CLI Guide
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/documentation/assets/js/app.0486f4a9.js" defer></script><script src="/documentation/assets/js/2.071d448b.js" defer></script><script src="/documentation/assets/js/34.f11b507f.js" defer></script>
  </body>
</html>
